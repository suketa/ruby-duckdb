<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>class Benchmark::IPS::Job - RDoc Documentation</title>

  <meta name="keywords" content="ruby,class,Benchmark::IPS::Job">

    <meta name="description" content="class Benchmark::IPS::Job: Benchmark jobs. Benchmark jobs.">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">&#9776;</span>
</div>


<nav id="navigation" role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
  
  <div id="parent-class-section" class="nav-section">
  <h3>Ancestors</h3>
  <ul><li><a href="../../Object.html">Object</a><ul><li>BasicObject</li></ul></li></ul>
</div>

  
  
  
  <div class="nav-section">
    <h3>Class Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-c-new">new</a></li>
    </ul>
  </div>



  <div class="nav-section">
    <h3>Instance Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-i-all_results_have_been_run-3F">all_results_have_been_run?</a></li>
      <li ><a href="#method-i-clear_held_results">clear_held_results</a></li>
      <li ><a href="#method-i-compare-21">compare!</a></li>
      <li ><a href="#method-i-compare-3F">compare?</a></li>
      <li ><a href="#method-i-config">config</a></li>
      <li ><a href="#method-i-create_report">create_report</a></li>
      <li ><a href="#method-i-create_stats">create_stats</a></li>
      <li ><a href="#method-i-cycles_per_100ms">cycles_per_100ms</a></li>
      <li ><a href="#method-i-generate_json">generate_json</a></li>
      <li ><a href="#method-i-hold-21">hold!</a></li>
      <li ><a href="#method-i-hold-3F">hold?</a></li>
      <li ><a href="#method-i-item">item</a></li>
      <li ><a href="#method-i-iterations_per_sec">iterations_per_sec</a></li>
      <li ><a href="#method-i-json-21">json!</a></li>
      <li ><a href="#method-i-json-3F">json?</a></li>
      <li ><a href="#method-i-load_held_results">load_held_results</a></li>
      <li ><a href="#method-i-quiet">quiet</a></li>
      <li ><a href="#method-i-quiet-3D">quiet=</a></li>
      <li ><a href="#method-i-report">report</a></li>
      <li ><a href="#method-i-run">run</a></li>
      <li ><a href="#method-i-run_benchmark">run_benchmark</a></li>
      <li ><a href="#method-i-run_comparison">run_comparison</a></li>
      <li ><a href="#method-i-run_single-3F">run_single?</a></li>
      <li ><a href="#method-i-run_warmup">run_warmup</a></li>
      <li ><a href="#method-i-save-21">save!</a></li>
      <li ><a href="#method-i-save_held_results">save_held_results</a></li>
      <li ><a href="#method-i-suite">suite</a></li>
      <li ><a href="#method-i-suite-3D">suite=</a></li>
      <li ><a href="#method-i-time_us">time_us</a></li>
    </ul>
  </div>



  <footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.10.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

</nav>

<main role="main" aria-labelledby="class-Benchmark::IPS::Job">
  <h1 id="class-Benchmark::IPS::Job" class="anchor-link class">
    class Benchmark::IPS::Job
  </h1>

  <section class="description">
    
<p><a href="../../Benchmark.html"><code>Benchmark</code></a> jobs.</p>

<p><a href="../../Benchmark.html"><code>Benchmark</code></a> jobs.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section anchor-link">


    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
        <dt id="MAX_TIME_SKEW">MAX_TIME_SKEW
        <dd>
          <p>The percentage of the expected runtime to allow before reporting a weird runtime</p>
        <dt id="MICROSECONDS_PER_100MS">MICROSECONDS_PER_100MS
        <dd>
          <p>Microseconds per 100 millisecond.</p>
        <dt id="MICROSECONDS_PER_SECOND">MICROSECONDS_PER_SECOND
        <dd>
          <p>Microseconds per second.</p>
        <dt id="POW_2_30">POW_2_30
        <dd>
          
      </dl>
    </section>

    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      <div id="attribute-i-compare" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-compare" title="Link to this attribute">
            <span class="method-name">compare</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Determining whether to run comparison utility. @return [Boolean] true if needs to run compare.</p>
        </div>
      </div>
      <div id="attribute-i-confidence" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-confidence" title="Link to this attribute">
            <span class="method-name">confidence</span>
            <span class="attribute-access-type">[RW]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Confidence. @return [Integer]</p>
        </div>
      </div>
      <div id="attribute-i-full_report" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-full_report" title="Link to this attribute">
            <span class="method-name">full_report</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p><a href="Report.html"><code>Report</code></a> object containing information about the run. @return [Report] the report object.</p>
        </div>
      </div>
      <div id="attribute-i-hold" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-hold" title="Link to this attribute">
            <span class="method-name">hold</span>
            <span class="attribute-access-type">[RW]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Determining whether to hold results between Ruby invocations @return [Boolean]</p>
        </div>
      </div>
      <div id="attribute-i-iterations" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-iterations" title="Link to this attribute">
            <span class="method-name">iterations</span>
            <span class="attribute-access-type">[RW]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Warmup and calculation iterations. @return [Integer]</p>
        </div>
      </div>
      <div id="attribute-i-list" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-list" title="Link to this attribute">
            <span class="method-name">list</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Two-element arrays, consisting of label and block pairs. @return [Array&lt;Entry&gt;] list of entries</p>
        </div>
      </div>
      <div id="attribute-i-stats" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-stats" title="Link to this attribute">
            <span class="method-name">stats</span>
            <span class="attribute-access-type">[RW]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Statistics model. @return [Object]</p>
        </div>
      </div>
      <div id="attribute-i-time" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-time" title="Link to this attribute">
            <span class="method-name">time</span>
            <span class="attribute-access-type">[RW]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Calculation time setter and getter (in seconds). @return [Integer]</p>
        </div>
      </div>
      <div id="attribute-i-timing" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-timing" title="Link to this attribute">
            <span class="method-name">timing</span>
            <span class="attribute-access-type">[R]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Storing Iterations in time period. @return [Hash]</p>
        </div>
      </div>
      <div id="attribute-i-warmup" class="method-detail anchor-link">
        <div class="method-heading attribute-method-heading">
          <a href="#attribute-i-warmup" title="Link to this attribute">
            <span class="method-name">warmup</span>
            <span class="attribute-access-type">[RW]</span>
          </a>
        </div>

        <div class="method-description">
        <p>Warmup time setter and getter (in seconds). @return [Integer]</p>
        </div>
      </div>
    </section>


     <section id="public-class-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Class Methods</h3>
       </header>

      <div id="method-c-new" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-c-new" title="Link to this method">
                <span class="method-name">new</span>
                <span class="method-args">(opts={})</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span> <span class="ruby-identifier">opts</span>={}
  <span class="ruby-ivar">@list</span> = []
  <span class="ruby-ivar">@run_single</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@json_path</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@compare</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@compare_order</span> = <span class="ruby-value">:fastest</span>
  <span class="ruby-ivar">@held_path</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@held_results</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-ivar">@timing</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> <span class="ruby-value">1</span> <span class="ruby-comment"># default to 1 in case warmup isn&#39;t run</span>
  <span class="ruby-ivar">@full_report</span> = <span class="ruby-constant">Report</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-comment"># Default warmup and calculation time in seconds.</span>
  <span class="ruby-ivar">@warmup</span> = <span class="ruby-value">2</span>
  <span class="ruby-ivar">@time</span> = <span class="ruby-value">5</span>
  <span class="ruby-ivar">@iterations</span> = <span class="ruby-value">1</span>

  <span class="ruby-comment"># Default statistical model</span>
  <span class="ruby-ivar">@stats</span> = <span class="ruby-value">:sd</span>
  <span class="ruby-ivar">@confidence</span> = <span class="ruby-value">95</span>

  <span class="ruby-ivar">@out</span> = <span class="ruby-constant">MultiReport</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">StreamReport</span>.<span class="ruby-identifier">new</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Instantiate the <a href="Job.html"><code>Benchmark::IPS::Job</code></a>.</p>
        </div>


      </div>

    </section>

     <section id="public-instance-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-all_results_have_been_run-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-all_results_have_been_run-3F" title="Link to this method">
                <span class="method-name">all_results_have_been_run?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="all_results_have_been_run-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all_results_have_been_run?</span>
  <span class="ruby-ivar">@full_report</span>.<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-clear_held_results" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-clear_held_results" title="Link to this method">
                <span class="method-name">clear_held_results</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="clear_held_results-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">clear_held_results</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">delete</span> <span class="ruby-ivar">@held_path</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-ivar">@held_path</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-compare-21" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-compare-21" title="Link to this method">
                <span class="method-name">compare!</span>
                <span class="method-args">(order: :fastest)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="compare-21-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">compare!</span>(<span class="ruby-value">order:</span> <span class="ruby-value">:fastest</span>)
  <span class="ruby-ivar">@compare</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-ivar">@compare_order</span> = <span class="ruby-identifier">order</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Run comparison utility.</p>
        </div>


      </div>

      <div id="method-i-compare-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-compare-3F" title="Link to this method">
                <span class="method-name">compare?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="compare-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 119</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">compare?</span>
  <span class="ruby-ivar">@compare</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Return true if job needs to be compared. @return [Boolean] Need to compare?</p>
        </div>


      </div>

      <div id="method-i-config" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-config" title="Link to this method">
                <span class="method-name">config</span>
                <span class="method-args">(opts)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="config-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">config</span> <span class="ruby-identifier">opts</span>
  <span class="ruby-ivar">@warmup</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:warmup</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:warmup</span>]
  <span class="ruby-ivar">@time</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:time</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:time</span>]
  <span class="ruby-ivar">@iterations</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:iterations</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:iterations</span>]
  <span class="ruby-ivar">@stats</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:stats</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:stats</span>]
  <span class="ruby-ivar">@confidence</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:confidence</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:confidence</span>]
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">quiet</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:quiet</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:quiet</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">suite</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:suite</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:suite</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          <p><a href="Job.html"><code>Job</code></a> configuration options, set +@warmup+ and +@time+. @option opts [Integer] :warmup Warmup time. @option opts [Integer] :time Calculation time. @option iterations [Integer] :time Warmup and calculation iterations.</p>
        </div>


      </div>

      <div id="method-i-create_report" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-create_report" title="Link to this method">
                <span class="method-name">create_report</span>
                <span class="method-args">(label, measured_us, iter, samples, cycles)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="create_report-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 392</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create_report</span>(<span class="ruby-identifier">label</span>, <span class="ruby-identifier">measured_us</span>, <span class="ruby-identifier">iter</span>, <span class="ruby-identifier">samples</span>, <span class="ruby-identifier">cycles</span>)
  <span class="ruby-ivar">@full_report</span>.<span class="ruby-identifier">add_entry</span> <span class="ruby-identifier">label</span>, <span class="ruby-identifier">measured_us</span>, <span class="ruby-identifier">iter</span>, <span class="ruby-identifier">samples</span>, <span class="ruby-identifier">cycles</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Create report by add entry to +@full_report+. @param label [String] <a href="Report.html"><code>Report</code></a> item label. @param measured_us [Integer] Measured time in microsecond. @param iter [Integer] Iterations. @param samples [Array&lt;Float&gt;] Sampled iterations per second. @param cycles [Integer] Number of Cycles. @return [Report::Entry] <a href="Job/Entry.html"><code>Entry</code></a> with data.</p>
        </div>


      </div>

      <div id="method-i-create_stats" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-create_stats" title="Link to this method">
                <span class="method-name">create_stats</span>
                <span class="method-args">(samples)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="create_stats-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 364</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">create_stats</span>(<span class="ruby-identifier">samples</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@stats</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:sd</span>
      <span class="ruby-constant">Stats</span><span class="ruby-operator">::</span><span class="ruby-constant">SD</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">samples</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:bootstrap</span>
      <span class="ruby-constant">Stats</span><span class="ruby-operator">::</span><span class="ruby-constant">Bootstrap</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">samples</span>, <span class="ruby-ivar">@confidence</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;unknown stats #{@stats}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-cycles_per_100ms" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-cycles_per_100ms" title="Link to this method">
                <span class="method-name">cycles_per_100ms</span>
                <span class="method-args">(time_msec, iters)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="cycles_per_100ms-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cycles_per_100ms</span> <span class="ruby-identifier">time_msec</span>, <span class="ruby-identifier">iters</span>
  <span class="ruby-identifier">cycles</span> = ((<span class="ruby-constant">MICROSECONDS_PER_100MS</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">time_msec</span>) <span class="ruby-operator">*</span> <span class="ruby-identifier">iters</span>).<span class="ruby-identifier">to_i</span>
  <span class="ruby-identifier">cycles</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">cycles</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Calculate the cycles needed to run for approx 100ms, given the number of iterations to run the given time. @param [Float] time_msec Each iteration’s time in ms. @param [Integer] iters Iterations. @return [Integer] Cycles per 100ms.</p>
        </div>


      </div>

      <div id="method-i-generate_json" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-generate_json" title="Link to this method">
                <span class="method-name">generate_json</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="generate_json-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 381</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">generate_json</span>
  <span class="ruby-ivar">@full_report</span>.<span class="ruby-identifier">generate_json</span> <span class="ruby-ivar">@json_path</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">json?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Generate json from +@full_report+.</p>
        </div>


      </div>

      <div id="method-i-hold-21" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-hold-21" title="Link to this method">
                <span class="method-name">hold!</span>
                <span class="method-args">(held_path)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="hold-21-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hold!</span>(<span class="ruby-identifier">held_path</span>)
  <span class="ruby-ivar">@held_path</span> = <span class="ruby-identifier">held_path</span>
  <span class="ruby-ivar">@run_single</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Hold after each iteration. @param held_path [String] File name to store hold file.</p>
        </div>


      </div>

      <div id="method-i-hold-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-hold-3F" title="Link to this method">
                <span class="method-name">hold?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="hold-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hold?</span>
  <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-ivar">@held_path</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Return true if results are held while multiple Ruby invocations @return [Boolean] Need to hold results between multiple Ruby invocations?</p>
        </div>


      </div>

      <div id="method-i-item" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-item" title="Link to this method">
                <span class="method-name">item</span>
                <span class="method-args">(label=&quot;&quot;, str=nil) { || ... }</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="item-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">item</span>(<span class="ruby-identifier">label</span>=<span class="ruby-string">&quot;&quot;</span>, <span class="ruby-identifier">str</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>) <span class="ruby-comment"># :yield:</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">blk</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">str</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;specify a block and a str, but not both&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">action</span> = <span class="ruby-identifier">str</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">blk</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;no block or string&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">action</span>

  <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">push</span> <span class="ruby-constant">Entry</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">label</span>, <span class="ruby-identifier">action</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Registers the given label and block pair in the job list. @param label [String] Label of benchmarked code. @param str [String] Code to be benchmarked. @param blk [Proc] Code to be benchmarked. @raise [ArgumentError] Raises if str and blk are both present. @raise [ArgumentError] Raises if str and blk are both absent.</p>
        </div>

        <div class="aliases">
          Also aliased as: <a href="Job.html#method-i-report">report</a>
        </div>

      </div>

      <div id="method-i-iterations_per_sec" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-iterations_per_sec" title="Link to this method">
                <span class="method-name">iterations_per_sec</span>
                <span class="method-args">(cycles, time_us)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="iterations_per_sec-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">iterations_per_sec</span> <span class="ruby-identifier">cycles</span>, <span class="ruby-identifier">time_us</span>
  <span class="ruby-constant">MICROSECONDS_PER_SECOND</span> <span class="ruby-operator">*</span> (<span class="ruby-identifier">cycles</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">time_us</span>.<span class="ruby-identifier">to_f</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Calculate the iterations per second given the number of cycles run and the time in microseconds that elapsed. @param [Integer] cycles Cycles. @param [Integer] <a href="Job.html#method-i-time_us"><code>time_us</code></a> Time in microsecond. @return [Float] Iteration per second.</p>
        </div>


      </div>

      <div id="method-i-json-21" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-json-21" title="Link to this method">
                <span class="method-name">json!</span>
                <span class="method-args">(path=&quot;data.json&quot;)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="json-21-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 165</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">json!</span>(<span class="ruby-identifier">path</span>=<span class="ruby-string">&quot;data.json&quot;</span>)
  <span class="ruby-ivar">@json_path</span> = <span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Generate json to given path, defaults to “data.json”.</p>
        </div>


      </div>

      <div id="method-i-json-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-json-3F" title="Link to this method">
                <span class="method-name">json?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="json-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">json?</span>
  <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-ivar">@json_path</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Return true if job needs to generate json. @return [Boolean] Need to generate json?</p>
        </div>


      </div>

      <div id="method-i-load_held_results" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-load_held_results" title="Link to this method">
                <span class="method-name">load_held_results</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="load_held_results-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">load_held_results</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@held_path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-ivar">@held_path</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">zero?</span>(<span class="ruby-ivar">@held_path</span>)
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;json&quot;</span>
  <span class="ruby-ivar">@held_results</span> = {}
  <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">load</span>(<span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-ivar">@held_path</span>)).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">result</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@held_results</span>[<span class="ruby-identifier">result</span>[<span class="ruby-string">&#39;item&#39;</span>]] = <span class="ruby-identifier">result</span>
    <span class="ruby-identifier">create_report</span>(<span class="ruby-identifier">result</span>[<span class="ruby-string">&#39;item&#39;</span>], <span class="ruby-identifier">result</span>[<span class="ruby-string">&#39;measured_us&#39;</span>], <span class="ruby-identifier">result</span>[<span class="ruby-string">&#39;iter&#39;</span>],
                  <span class="ruby-identifier">create_stats</span>(<span class="ruby-identifier">result</span>[<span class="ruby-string">&#39;samples&#39;</span>]), <span class="ruby-identifier">result</span>[<span class="ruby-string">&#39;cycles&#39;</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-quiet" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-quiet" title="Link to this method">
                <span class="method-name">quiet</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="quiet-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">quiet</span>
  <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">quiet?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Silence output @return [Boolean]</p>
        </div>


      </div>

      <div id="method-i-quiet-3D" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-quiet-3D" title="Link to this method">
                <span class="method-name">quiet=</span>
                <span class="method-args">(val)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="quiet-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">quiet=</span>(<span class="ruby-identifier">val</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">val</span> <span class="ruby-comment"># remove instances of StreamReport</span>
    <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">quiet!</span>
  <span class="ruby-keyword">else</span> <span class="ruby-comment"># ensure there is an instance of StreamReport</span>
    <span class="ruby-ivar">@out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">StreamReport</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">quiet?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-report" class="method-detail anchor-link method-alias">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-report" title="Link to this method">
                <span class="method-name">report</span>
                <span class="method-args">(label=&quot;&quot;, str=nil)</span>
              </a>
            </div>
        </div>


        <div class="method-description">
          
        </div>


        <div class="aliases">
          Alias for: <a href="Job.html#method-i-item">item</a>
        </div>
      </div>

      <div id="method-i-run" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-run" title="Link to this method">
                <span class="method-name">run</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="run-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">run</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@warmup</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@warmup</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span> <span class="ruby-keyword">then</span>
    <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">start_warming</span>
    <span class="ruby-ivar">@iterations</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">run_warmup</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">start_running</span>

  <span class="ruby-ivar">@iterations</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">run_benchmark</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">footer</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-run_benchmark" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-run_benchmark" title="Link to this method">
                <span class="method-name">run_benchmark</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="run_benchmark-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 312</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">run_benchmark</span>
  <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">run_single?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@held_results</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@held_results</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">item</span>.<span class="ruby-identifier">label</span>)

    <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">running</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">label</span>, <span class="ruby-ivar">@time</span>

    <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">clean_env</span>

    <span class="ruby-identifier">iter</span> = <span class="ruby-value">0</span>

    <span class="ruby-identifier">measurements_us</span> = []

    <span class="ruby-comment"># Running this number of cycles should take around 100ms.</span>
    <span class="ruby-identifier">cycles</span> = <span class="ruby-ivar">@timing</span>[<span class="ruby-identifier">item</span>]

    <span class="ruby-identifier">target</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">add_second</span> <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span>, <span class="ruby-ivar">@time</span>

    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">before</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span>
      <span class="ruby-identifier">item</span>.<span class="ruby-identifier">call_times</span> <span class="ruby-identifier">cycles</span>
      <span class="ruby-identifier">after</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span>

      <span class="ruby-comment"># If for some reason the timing said this took no time (O_o)</span>
      <span class="ruby-comment"># then ignore the iteration entirely and start another.</span>
      <span class="ruby-identifier">iter_us</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">time_us</span> <span class="ruby-identifier">before</span>, <span class="ruby-identifier">after</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">iter_us</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0.0</span>

      <span class="ruby-identifier">iter</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">cycles</span>

      <span class="ruby-identifier">measurements_us</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">iter_us</span>
    <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">target</span>

    <span class="ruby-identifier">final_time</span> = <span class="ruby-identifier">before</span>

    <span class="ruby-identifier">measured_us</span> = <span class="ruby-identifier">measurements_us</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">:+</span>)

    <span class="ruby-identifier">samples</span> = <span class="ruby-identifier">measurements_us</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">time_us</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">iterations_per_sec</span> <span class="ruby-identifier">cycles</span>, <span class="ruby-identifier">time_us</span>
    }

    <span class="ruby-identifier">rep</span> = <span class="ruby-identifier">create_report</span>(<span class="ruby-identifier">item</span>.<span class="ruby-identifier">label</span>, <span class="ruby-identifier">measured_us</span>, <span class="ruby-identifier">iter</span>, <span class="ruby-identifier">create_stats</span>(<span class="ruby-identifier">samples</span>), <span class="ruby-identifier">cycles</span>)

    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">final_time</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">target</span>).<span class="ruby-identifier">abs</span> <span class="ruby-operator">&gt;=</span> (<span class="ruby-ivar">@time</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-constant">MAX_TIME_SKEW</span>)
      <span class="ruby-identifier">rep</span>.<span class="ruby-identifier">show_total_time!</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">add_report</span> <span class="ruby-identifier">rep</span>, <span class="ruby-identifier">caller</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">first</span>

    <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">run_single?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Run calculation.</p>
        </div>


      </div>

      <div id="method-i-run_comparison" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-run_comparison" title="Link to this method">
                <span class="method-name">run_comparison</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="run_comparison-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 376</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">run_comparison</span>
  <span class="ruby-ivar">@full_report</span>.<span class="ruby-identifier">run_comparison</span>(<span class="ruby-ivar">@compare_order</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">compare?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Run comparison of entries in +@full_report+.</p>
        </div>


      </div>

      <div id="method-i-run_single-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-run_single-3F" title="Link to this method">
                <span class="method-name">run_single?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="run_single-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 154</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">run_single?</span>
  <span class="ruby-ivar">@run_single</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Return true if items are to be run one at a time. For the traditional hold, this is true @return [Boolean] Run just a single item?</p>
        </div>


      </div>

      <div id="method-i-run_warmup" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-run_warmup" title="Link to this method">
                <span class="method-name">run_warmup</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="run_warmup-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 267</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">run_warmup</span>
  <span class="ruby-ivar">@list</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">run_single?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@held_results</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@held_results</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">item</span>.<span class="ruby-identifier">label</span>)

    <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">warming</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">label</span>, <span class="ruby-ivar">@warmup</span>

    <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">clean_env</span>

    <span class="ruby-comment"># Run for up to half of the configured warmup time with an increasing</span>
    <span class="ruby-comment"># number of cycles to reduce overhead and improve accuracy.</span>
    <span class="ruby-comment"># This also avoids running with a constant number of cycles, which a</span>
    <span class="ruby-comment"># JIT might speculate on and then have to recompile in #run_benchmark.</span>
    <span class="ruby-identifier">before</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span>
    <span class="ruby-identifier">target</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">add_second</span> <span class="ruby-identifier">before</span>, <span class="ruby-ivar">@warmup</span> <span class="ruby-operator">/</span> <span class="ruby-value">2.0</span>

    <span class="ruby-identifier">cycles</span> = <span class="ruby-value">1</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">t0</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span>
      <span class="ruby-identifier">item</span>.<span class="ruby-identifier">call_times</span> <span class="ruby-identifier">cycles</span>
      <span class="ruby-identifier">t1</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span>
      <span class="ruby-identifier">warmup_iter</span> = <span class="ruby-identifier">cycles</span>
      <span class="ruby-identifier">warmup_time_us</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">time_us</span>(<span class="ruby-identifier">t0</span>, <span class="ruby-identifier">t1</span>)

      <span class="ruby-comment"># If the number of cycles would go outside the 32-bit signed integers range</span>
      <span class="ruby-comment"># then exit the loop to avoid overflows and start the 100ms warmup runs</span>
      <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">cycles</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-constant">POW_2_30</span>
      <span class="ruby-identifier">cycles</span> <span class="ruby-operator">*=</span> <span class="ruby-value">2</span>
    <span class="ruby-keyword">end</span> <span class="ruby-keyword">while</span> <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">warmup_time_us</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">target</span>

    <span class="ruby-identifier">cycles</span> = <span class="ruby-identifier">cycles_per_100ms</span> <span class="ruby-identifier">warmup_time_us</span>, <span class="ruby-identifier">warmup_iter</span>
    <span class="ruby-ivar">@timing</span>[<span class="ruby-identifier">item</span>] = <span class="ruby-identifier">cycles</span>

    <span class="ruby-comment"># Run for the remaining of warmup in a similar way as #run_benchmark.</span>
    <span class="ruby-identifier">target</span> = <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">add_second</span> <span class="ruby-identifier">before</span>, <span class="ruby-ivar">@warmup</span>
    <span class="ruby-keyword">while</span> <span class="ruby-constant">Timing</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">+</span> <span class="ruby-constant">MICROSECONDS_PER_100MS</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">target</span>
      <span class="ruby-identifier">item</span>.<span class="ruby-identifier">call_times</span> <span class="ruby-identifier">cycles</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-ivar">@out</span>.<span class="ruby-identifier">warmup_stats</span> <span class="ruby-identifier">warmup_time_us</span>, <span class="ruby-ivar">@timing</span>[<span class="ruby-identifier">item</span>]

    <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">run_single?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Run warmup.</p>
        </div>


      </div>

      <div id="method-i-save-21" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-save-21" title="Link to this method">
                <span class="method-name">save!</span>
                <span class="method-args">(held_path)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="save-21-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">save!</span>(<span class="ruby-identifier">held_path</span>)
  <span class="ruby-ivar">@held_path</span> = <span class="ruby-identifier">held_path</span>
  <span class="ruby-ivar">@run_single</span> = <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Save interim results. Similar to hold, but all reports are run The report label must change for each invocation. One way to achieve this is to include the version in the label. @param held_path [String] File name to store hold file.</p>
        </div>


      </div>

      <div id="method-i-save_held_results" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-save_held_results" title="Link to this method">
                <span class="method-name">save_held_results</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="save_held_results-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 226</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">save_held_results</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@held_path</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;json&quot;</span>
  <span class="ruby-identifier">data</span> = <span class="ruby-identifier">full_report</span>.<span class="ruby-identifier">entries</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
    {
      <span class="ruby-string">&#39;item&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">label</span>,
      <span class="ruby-string">&#39;measured_us&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">microseconds</span>,
      <span class="ruby-string">&#39;iter&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">iterations</span>,
      <span class="ruby-string">&#39;samples&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">samples</span>,
      <span class="ruby-string">&#39;cycles&#39;</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">measurement_cycle</span>
    }
  }
  <span class="ruby-constant">IO</span>.<span class="ruby-identifier">write</span>(<span class="ruby-ivar">@held_path</span>, <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">data</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-suite" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-suite" title="Link to this method">
                <span class="method-name">suite</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="suite-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">suite</span>
  <span class="ruby-ivar">@out</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Suite @return [Benchmark::IPS::MultiReport]</p>
        </div>


      </div>

      <div id="method-i-suite-3D" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-suite-3D" title="Link to this method">
                <span class="method-name">suite=</span>
                <span class="method-args">(suite)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="suite-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">suite=</span>(<span class="ruby-identifier">suite</span>)
  <span class="ruby-ivar">@out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">suite</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-time_us" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-time_us" title="Link to this method">
                <span class="method-name">time_us</span>
                <span class="method-args">(before, after)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="time_us-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/lib/benchmark/ips/job.rb, line 202</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">time_us</span> <span class="ruby-identifier">before</span>, <span class="ruby-identifier">after</span>
  (<span class="ruby-identifier">after</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">before</span>.<span class="ruby-identifier">to_f</span>) <span class="ruby-operator">*</span> <span class="ruby-constant">MICROSECONDS_PER_SECOND</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Calculate the time difference of before and after in microseconds. @param [Time] before time. @param [Time] after time. @return [Float] Time difference of before and after.</p>
        </div>


      </div>

    </section>

  </section>
</main>

