<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>class Nokogiri::XML::SAX::Document - RDoc Documentation</title>

  <meta name="keywords" content="ruby,class,Nokogiri::XML::SAX::Document">

    <meta name="description" content="class Nokogiri::XML::SAX::Document: Document class is used for registering types of events you are interested in handling. All of the methods on this class are available as possible even">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
  var index_rel_prefix = "../../../";
</script>

<script src="../../../js/navigation.js" defer></script>
<script src="../../../js/search.js" defer></script>
<script src="../../../js/search_index.js" defer></script>
<script src="../../../js/searcher.js" defer></script>
<script src="../../../js/darkfish.js" defer></script>

<link href="../../../css/fonts.css" rel="stylesheet">
<link href="../../../css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">&#9776;</span>
</div>


<nav id="navigation" role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
  
  <div id="parent-class-section" class="nav-section">
  <h3>Ancestors</h3>
  <ul><li><a href="../../../Object.html">Object</a><ul><li>BasicObject</li></ul></li></ul>
</div>

  
  
  


  <div class="nav-section">
    <h3>Instance Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-i-cdata_block">cdata_block</a></li>
      <li ><a href="#method-i-characters">characters</a></li>
      <li ><a href="#method-i-comment">comment</a></li>
      <li ><a href="#method-i-end_document">end_document</a></li>
      <li ><a href="#method-i-end_element">end_element</a></li>
      <li ><a href="#method-i-end_element_namespace">end_element_namespace</a></li>
      <li ><a href="#method-i-error">error</a></li>
      <li ><a href="#method-i-processing_instruction">processing_instruction</a></li>
      <li ><a href="#method-i-reference">reference</a></li>
      <li ><a href="#method-i-start_document">start_document</a></li>
      <li ><a href="#method-i-start_element">start_element</a></li>
      <li ><a href="#method-i-start_element_namespace">start_element_namespace</a></li>
      <li ><a href="#method-i-warning">warning</a></li>
      <li ><a href="#method-i-xmldecl">xmldecl</a></li>
    </ul>
  </div>



  <footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.10.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

</nav>

<main role="main" aria-labelledby="class-Nokogiri::XML::SAX::Document">
  <h1 id="class-Nokogiri::XML::SAX::Document" class="anchor-link class">
    class Nokogiri::XML::SAX::Document
  </h1>

  <section class="description">
    
<p>The <a href="Document.html"><code>SAX::Document</code></a> class is used for registering types of events you are interested in handling. All of the methods on this class are available as possible events while parsing an XML document. To register for any particular event, subclass this class and implement the methods you are interested in knowing about.</p>

<p>To only be notified about start and end element events, write a class like this:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MyHandler</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">SAX</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start_element</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">attrs</span> = []
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{name} started!&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">end_element</span> <span class="ruby-identifier">name</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{name} ended&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>You can use this event handler for any SAX-style parser included with <a href="../../../Nokogiri.html"><code>Nokogiri</code></a>.</p>

<p>See also:</p>
<ul><li>
<p><a href="../SAX.html"><code>Nokogiri::XML::SAX</code></a></p>
</li><li>
<p><a href="../../HTML4/SAX.html"><code>Nokogiri::HTML4::SAX</code></a></p>
</li></ul>

<h3 id="class-Nokogiri::XML::SAX::Document-label-Entity+Handling">Entity Handling<span><a href="#class-Nokogiri::XML::SAX::Document-label-Entity+Handling">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>⚠ Entity handling is complicated in a <a href="../SAX.html"><code>SAX</code></a> parser! Please read this section carefully if you’re not getting the behavior you expect.</p>

<p>Entities will be reported to the user via callbacks to <a href="Document.html#method-i-characters"><code>characters</code></a>, to <a href="Document.html#method-i-reference"><code>reference</code></a>, or possibly to both. The behavior is determined by a combination of <em>entity type</em> and the value of <a href="ParserContext.html#method-i-replace_entities"><code>ParserContext#replace_entities</code></a>. (Recall that the default value of <a href="ParserContext.html#method-i-replace_entities"><code>ParserContext#replace_entities</code></a> is <code>false</code>.)</p>

<p>⚠ <strong>It is UNSAFE to set ParserContext#replace_entities to <code>true</code></strong> when parsing untrusted documents.</p>

<p>💡 For more information on entity types, see <a href="https://en.wikipedia.org/wiki/Document_type_definition#Entity_declarations">Wikipedia’s page on DTDs</a>.</p>

<table role="table">
<thead>
<tr>
<th>Entity type</th>
<th><a href="Document.html#method-i-characters"><code>characters</code></a></th>
<th><a href="Document.html#method-i-reference"><code>reference</code></a></th>
</tr>
</thead>
<tbody>
<tr>
<td>Char ref (e.g., <code>&amp;#146;</code>)</td>
<td>always</td>
<td>never</td>
</tr>
<tr>
<td>Predefined (e.g., <code>&amp;amp;</code>)</td>
<td>always</td>
<td>never</td>
</tr>
<tr>
<td>Undeclared †</td>
<td>never</td>
<td>replace_entities == false</td>
</tr>
<tr>
<td>Internal</td>
<td>always</td>
<td>replace_entities == false</td>
</tr>
<tr>
<td>External †</td>
<td>replace_entities == true</td>
<td>replace_entities == false</td>
</tr>
</tbody>
</table>

<p> </p>

<p>† In the case where the replacement text for the entity is unknown (e.g., an undeclared entity or an external entity that could not be resolved because of network issues), then the replacement text will not be reported. If <a href="ParserContext.html#method-i-replace_entities"><code>ParserContext#replace_entities</code></a> is <code>true</code>, this means the <a href="Document.html#method-i-characters"><code>characters</code></a> callback will not be invoked. If <a href="ParserContext.html#method-i-replace_entities"><code>ParserContext#replace_entities</code></a> is <code>false</code>, then the <a href="Document.html#method-i-reference"><code>reference</code></a> callback will be invoked, but with <code>nil</code> for the <code>content</code> argument.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section anchor-link">





     <section id="public-instance-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-cdata_block" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-cdata_block" title="Link to this method">
                <span class="method-name">cdata_block</span>
                <span class="method-args">(string)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="cdata_block-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">cdata_block</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called when cdata blocks are found</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>string</code> contains the cdata content</p>
</li></ul>
        </div>


      </div>

      <div id="method-i-characters" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-characters" title="Link to this method">
                <span class="method-name">characters</span>
                <span class="method-args">(string)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="characters-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 201</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">characters</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called when character data is parsed, and for parsed entities when <a href="ParserContext.html#method-i-replace_entities"><code>ParserContext#replace_entities</code></a> is <code>true</code>.</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>string</code> contains the character data or entity replacement text</p>
</li></ul>

<p>⚠ Please see <a href="Document.html#class-Nokogiri::XML::SAX::Document-label-Entity+Handling">Entity Handling at <code>Document</code></a> for important information about how entities are handled.</p>

<p>⚠ This method might be called multiple times for a contiguous string of characters.</p>
        </div>


      </div>

      <div id="method-i-comment" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-comment" title="Link to this method">
                <span class="method-name">comment</span>
                <span class="method-args">(string)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="comment-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">comment</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called when comments are encountered</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>string</code> contains the comment data</p>
</li></ul>
        </div>


      </div>

      <div id="method-i-end_document" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-end_document" title="Link to this method">
                <span class="method-name">end_document</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="end_document-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 83</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">end_document</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called when document ends parsing.</p>
        </div>


      </div>

      <div id="method-i-end_element" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-end_element" title="Link to this method">
                <span class="method-name">end_element</span>
                <span class="method-args">(name)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="end_element-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">end_element</span>(<span class="ruby-identifier">name</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called at the end of an element.</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>name</code> (<a href="../../../String.html"><code>String</code></a>) the name of the element being closed</p>
</li></ul>
        </div>


      </div>

      <div id="method-i-end_element_namespace" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-end_element_namespace" title="Link to this method">
                <span class="method-name">end_element_namespace</span>
                <span class="method-args">(name, prefix = nil, uri = nil)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="end_element_namespace-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 185</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">end_element_namespace</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">uri</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-comment"># Deal with SAX v1 interface</span>
  <span class="ruby-identifier">end_element</span>([<span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">name</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;:&quot;</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called at the end of an element.</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>name</code> (<a href="../../../String.html"><code>String</code></a>) is the name of the element</p>
</li><li>
<p><code>prefix</code> (<a href="../../../String.html"><code>String</code></a>, nil) is the namespace prefix for the element</p>
</li><li>
<p><code>uri</code> (<a href="../../../String.html"><code>String</code></a>, nil) is the associated URI for the element’s namespace</p>
</li></ul>
        </div>


      </div>

      <div id="method-i-error" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-error" title="Link to this method">
                <span class="method-name">error</span>
                <span class="method-args">(string)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="error-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">error</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called on document errors</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>string</code> contains the error</p>
</li></ul>
        </div>


      </div>

      <div id="method-i-processing_instruction" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-processing_instruction" title="Link to this method">
                <span class="method-name">processing_instruction</span>
                <span class="method-args">(name, content)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="processing_instruction-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">processing_instruction</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">content</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called when processing instructions are found</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>name</code> is the target of the instruction</p>
</li><li>
<p><code>content</code> is the value of the instruction</p>
</li></ul>
        </div>


      </div>

      <div id="method-i-reference" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-reference" title="Link to this method">
                <span class="method-name">reference</span>
                <span class="method-args">(name, content)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="reference-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 217</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">reference</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">content</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called when a parsed entity is referenced and not replaced.</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>name</code> (<a href="../../../String.html"><code>String</code></a>) is the name of the entity</p>
</li><li>
<p><code>content</code> (<a href="../../../String.html"><code>String</code></a>, nil) is the replacement text for the entity, if known</p>
</li></ul>

<p>⚠ Please see <a href="Document.html#class-Nokogiri::XML::SAX::Document-label-Entity+Handling">Entity Handling at <code>Document</code></a> for important information about how entities are handled.</p>

<p>⚠ An internal entity may result in a call to both <a href="Document.html#method-i-characters"><code>characters</code></a> and <a href="Document.html#method-i-reference"><code>reference</code></a>.</p>

<p>Since v1.17.0</p>
        </div>


      </div>

      <div id="method-i-start_document" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-start_document" title="Link to this method">
                <span class="method-name">start_document</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="start_document-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start_document</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called when document starts parsing.</p>
        </div>


      </div>

      <div id="method-i-start_element" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-start_element" title="Link to this method">
                <span class="method-name">start_element</span>
                <span class="method-args">(name, attrs = [])</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="start_element-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start_element</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">attrs</span> = [])
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called at the beginning of an element.</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>name</code> (<a href="../../../String.html"><code>String</code></a>) the name of the element</p>
</li><li>
<p><code>attrs</code> (<a href="../../../Array.html"><code>Array</code></a>&lt;Array&lt;String&gt;&gt;) an assoc list of namespace declarations and attributes, e.g.:</p>

<pre class="ruby">[ [<span class="ruby-string">&quot;xmlns:foo&quot;</span>, <span class="ruby-string">&quot;http://sample.net&quot;</span>], [<span class="ruby-string">&quot;size&quot;</span>, <span class="ruby-string">&quot;large&quot;</span>] ]
</pre>
</li></ul>

<p>💡If you’re dealing with <a href="../../XML.html"><code>XML</code></a> and need to handle namespaces, use the <a href="Document.html#method-i-start_element_namespace"><code>start_element_namespace</code></a> method instead.</p>

<p>Note that the element namespace and any attribute namespaces are not provided, and so any namespaced elements or attributes will be returned as strings including the prefix:</p>

<pre class="ruby"><span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">&lt;&lt;~XML</span>)
<span class="ruby-value">  &lt;root xmlns:foo=&#39;http://foo.example.com/&#39; xmlns=&#39;http://example.com/&#39;&gt;
    &lt;foo:bar foo:quux=&quot;xxx&quot;&gt;hello world&lt;/foo:bar&gt;
  &lt;/root&gt;
</span><span class="ruby-identifier">XML</span>

<span class="ruby-identifier">assert_pattern</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">document</span>.<span class="ruby-identifier">start_elements</span> <span class="ruby-operator">=&gt;</span> [
    [<span class="ruby-string">&quot;root&quot;</span>, [[<span class="ruby-string">&quot;xmlns:foo&quot;</span>, <span class="ruby-string">&quot;http://foo.example.com/&quot;</span>], [<span class="ruby-string">&quot;xmlns&quot;</span>, <span class="ruby-string">&quot;http://example.com/&quot;</span>]]],
    [<span class="ruby-string">&quot;foo:bar&quot;</span>, [[<span class="ruby-string">&quot;foo:quux&quot;</span>, <span class="ruby-string">&quot;xxx&quot;</span>]]],
  ]
<span class="ruby-keyword">end</span>
</pre>
        </div>


      </div>

      <div id="method-i-start_element_namespace" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-start_element_namespace" title="Link to this method">
                <span class="method-name">start_element_namespace</span>
                <span class="method-args">(name, attrs = [], prefix = nil, uri = nil, ns = [])</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="start_element_namespace-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">start_element_namespace</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">attrs</span> = [], <span class="ruby-identifier">prefix</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">uri</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">ns</span> = []) <span class="ruby-comment"># rubocop:disable Metrics/ParameterLists</span>
  <span class="ruby-comment"># Deal with SAX v1 interface</span>
  <span class="ruby-identifier">name</span> = [<span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">name</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;:&quot;</span>)
  <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">ns</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ns_prefix</span>, <span class="ruby-identifier">ns_uri</span><span class="ruby-operator">|</span>
    [[<span class="ruby-string">&quot;xmlns&quot;</span>, <span class="ruby-identifier">ns_prefix</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;:&quot;</span>), <span class="ruby-identifier">ns_uri</span>]
  <span class="ruby-keyword">end</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
    [[<span class="ruby-identifier">attr</span>.<span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">localname</span>].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;:&quot;</span>), <span class="ruby-identifier">attr</span>.<span class="ruby-identifier">value</span>]
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">start_element</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">attributes</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called at the beginning of an element.</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>name</code> (<a href="../../../String.html"><code>String</code></a>) is the name of the element</p>
</li><li>
<p><code>attrs</code> (<a href="../../../Array.html"><code>Array</code></a>&lt;Attribute&gt;) is an array of structs with the following properties:</p>
<ul><li>
<p><code>localname</code> (<a href="../../../String.html"><code>String</code></a>) the local name of the attribute</p>
</li><li>
<p><code>value</code> (<a href="../../../String.html"><code>String</code></a>) the value of the attribute</p>
</li><li>
<p><code>prefix</code> (<a href="../../../String.html"><code>String</code></a>, nil) the namespace prefix of the attribute</p>
</li><li>
<p><code>uri</code> (<a href="../../../String.html"><code>String</code></a>, nil) the namespace URI of the attribute</p>
</li></ul>
</li><li>
<p><code>prefix</code> (<a href="../../../String.html"><code>String</code></a>, nil) is the namespace prefix for the element</p>
</li><li>
<p><code>uri</code> (<a href="../../../String.html"><code>String</code></a>, nil) is the associated URI for the element’s namespace</p>
</li><li>
<p><code>ns</code> (<a href="../../../Array.html"><code>Array</code></a>&lt;Array&lt;String, String&gt;&gt;) is an assoc list of namespace declarations on the element</p>
</li></ul>

<p>💡If you’re dealing with <a href="../../HTML4.html"><code>HTML</code></a> or don’t care about namespaces, try <a href="Document.html#method-i-start_element"><code>start_element</code></a> instead.</p>
<dl class="rdoc-list label-list"><dt>Example</dt>
<dd>
<p>it “start_elements_namespace is called with namespaced attributes” do</p>

<pre class="ruby"><span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">&lt;&lt;~XML</span>)
<span class="ruby-value">  &lt;root xmlns:foo=&#39;http://foo.example.com/&#39;&gt;
    &lt;foo:a foo:bar=&#39;hello&#39; /&gt;
  &lt;/root&gt;
</span><span class="ruby-identifier">XML</span>

<span class="ruby-identifier">assert_pattern</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">document</span>.<span class="ruby-identifier">start_elements_namespace</span> <span class="ruby-operator">=&gt;</span> [
    [
      <span class="ruby-string">&quot;root&quot;</span>,
      [],
      <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>,
      [[<span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-string">&quot;http://foo.example.com/&quot;</span>]], <span class="ruby-comment"># namespace declarations</span>
    ], [
      <span class="ruby-string">&quot;a&quot;</span>,
      [<span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">SAX</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Attribute</span>(<span class="ruby-value">localname:</span> <span class="ruby-string">&quot;bar&quot;</span>, <span class="ruby-value">prefix:</span> <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-value">uri:</span> <span class="ruby-string">&quot;http://foo.example.com/&quot;</span>, <span class="ruby-value">value:</span> <span class="ruby-string">&quot;hello&quot;</span>)], <span class="ruby-comment"># prefixed attribute</span>
      <span class="ruby-string">&quot;foo&quot;</span>, <span class="ruby-string">&quot;http://foo.example.com/&quot;</span>, <span class="ruby-comment"># prefix and uri for the &quot;a&quot; element</span>
      [],
    ]
  ]
<span class="ruby-keyword">end</span>
</pre>

<p>end</p>
</dd></dl>
        </div>


      </div>

      <div id="method-i-warning" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-warning" title="Link to this method">
                <span class="method-name">warning</span>
                <span class="method-args">(string)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="warning-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">warning</span>(<span class="ruby-identifier">string</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called on document warnings</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>string</code> contains the warning</p>
</li></ul>
        </div>


      </div>

      <div id="method-i-xmldecl" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-xmldecl" title="Link to this method">
                <span class="method-name">xmldecl</span>
                <span class="method-args">(version, encoding, standalone)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="xmldecl-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri/xml/sax/document.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">xmldecl</span>(<span class="ruby-identifier">version</span>, <span class="ruby-identifier">encoding</span>, <span class="ruby-identifier">standalone</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Called when an XML declaration is parsed.</p>
<dl class="rdoc-list label-list"><dt>Parameters</dt>
<dd></dd></dl>
<ul><li>
<p><code>version</code> (<a href="../../../String.html"><code>String</code></a>) the version attribute</p>
</li><li>
<p><code>encoding</code> (<a href="../../../String.html"><code>String</code></a>, nil) the encoding of the document if present, else <code>nil</code></p>
</li><li>
<p><code>standalone</code> (“yes”, “no”, nil) the standalone attribute if present, else <code>nil</code></p>
</li></ul>
        </div>


      </div>

    </section>

  </section>
</main>

