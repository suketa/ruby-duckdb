<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>class Object - RDoc Documentation</title>

  <meta name="keywords" content="ruby,class,Object">

    <meta name="description" content="class Object: Mock.">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="class">
<div id="navigation-toggle" role="button" tabindex="0" aria-label="Toggle sidebar" aria-expanded="true" aria-controls="navigation">
  <span aria-hidden="true">&#9776;</span>
</div>


<nav id="navigation" role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search (/) for a class, method, ..." spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
  
  <div id="parent-class-section" class="nav-section">
  <h3>Ancestors</h3>
  <ul><li>BasicObject</li></ul>
</div>

  
<div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
    <li><a class="include" href="Newton.html">Newton</a>
    <li><a class="include" href="BigMath.html">BigMath</a>
  </ul>
</div>

  
  


  <div class="nav-section">
    <h3>Instance Methods</h3>
    <ul class="link-list" role="directory">
      <li ><a href="#method-i-Nokogiri">Nokogiri</a></li>
      <li ><a href="#method-i-abort_could_not_find_library">abort_could_not_find_library</a></li>
      <li ><a href="#method-i-add">add</a></li>
      <li ><a href="#method-i-aix-3F">aix?</a></li>
      <li ><a href="#method-i-chdir_for_build">chdir_for_build</a></li>
      <li ><a href="#method-i-check_duckdb_header">check_duckdb_header</a></li>
      <li ><a href="#method-i-check_duckdb_library">check_duckdb_library</a></li>
      <li ><a href="#method-i-concat_flags">concat_flags</a></li>
      <li ><a href="#method-i-config_clean-3F">config_clean?</a></li>
      <li ><a href="#method-i-config_cross_build-3F">config_cross_build?</a></li>
      <li ><a href="#method-i-config_static-3F">config_static?</a></li>
      <li ><a href="#method-i-config_system_libraries-3F">config_system_libraries?</a></li>
      <li ><a href="#method-i-config_with_xml2_legacy-3F">config_with_xml2_legacy?</a></li>
      <li ><a href="#method-i-copy_packaged_libraries_headers">copy_packaged_libraries_headers</a></li>
      <li ><a href="#method-i-darwin-3F">darwin?</a></li>
      <li ><a href="#method-i-do_clean">do_clean</a></li>
      <li ><a href="#method-i-do_help">do_help</a></li>
      <li ><a href="#method-i-duckdb_library_name">duckdb_library_name</a></li>
      <li ><a href="#method-i-ensure_func">ensure_func</a></li>
      <li ><a href="#method-i-ensure_package_configuration">ensure_package_configuration</a></li>
      <li ><a href="#method-i-gem_file">gem_file</a></li>
      <li ><a href="#method-i-gem_file_platform">gem_file_platform</a></li>
      <li ><a href="#method-i-gnome_source">gnome_source</a></li>
      <li ><a href="#method-i-have_builtin_func">have_builtin_func</a></li>
      <li ><a href="#method-i-have_libxml_headers-3F">have_libxml_headers?</a></li>
      <li ><a href="#method-i-have_package_configuration">have_package_configuration</a></li>
      <li ><a href="#method-i-iconv_configure_flags">iconv_configure_flags</a></li>
      <li ><a href="#method-i-libflag_to_filename">libflag_to_filename</a></li>
      <li ><a href="#method-i-local_have_library">local_have_library</a></li>
      <li ><a href="#method-i-log_conflict">log_conflict</a></li>
      <li ><a href="#method-i-log_useless">log_useless</a></li>
      <li ><a href="#method-i-logging">logging</a></li>
      <li ><a href="#method-i-main">main</a></li>
      <li ><a href="#method-i-make_filename">make_filename</a></li>
      <li ><a href="#method-i-needs_darwin_linker_hack">needs_darwin_linker_hack</a></li>
      <li ><a href="#method-i-nix-3F">nix?</a></li>
      <li ><a href="#method-i-openbsd-3F">openbsd?</a></li>
      <li ><a href="#method-i-preserving_globals">preserving_globals</a></li>
      <li ><a href="#method-i-print_message">print_message</a></li>
      <li ><a href="#method-i-process_recipe">process_recipe</a></li>
      <li ><a href="#method-i-raise_not_found_library">raise_not_found_library</a></li>
      <li ><a href="#method-i-report_conflict">report_conflict</a></li>
      <li ><a href="#method-i-report_list">report_list</a></li>
      <li ><a href="#method-i-report_useless">report_useless</a></li>
      <li ><a href="#method-i-safe_read">safe_read</a></li>
      <li ><a href="#method-i-sh_export_path">sh_export_path</a></li>
      <li ><a href="#method-i-solaris-3F">solaris?</a></li>
      <li class="calls-super" ><a href="#method-i-stub">stub</a></li>
      <li ><a href="#method-i-sub">sub</a></li>
      <li ><a href="#method-i-truffle-3F">truffle?</a></li>
      <li ><a href="#method-i-try_link_iconv">try_link_iconv</a></li>
      <li ><a href="#method-i-try_package_configuration">try_package_configuration</a></li>
      <li ><a href="#method-i-unix-3F">unix?</a></li>
      <li ><a href="#method-i-unpacked_gem_dir_platform">unpacked_gem_dir_platform</a></li>
      <li ><a href="#method-i-windows-3F">windows?</a></li>
      <li ><a href="#method-i-zlib_source">zlib_source</a></li>
    </ul>
  </div>



  <footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.10.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

</nav>

<main role="main" aria-labelledby="class-Object">
  <h1 id="class-Object" class="anchor-link class">
    class Object
  </h1>

  <section class="description">
    
<p><a href="Object.html"><code>Object</code></a> extensions for <a href="Minitest/Mock.html"><code>Minitest::Mock</code></a>.</p>

  </section>

  <section id="5Buntitled-5D" class="documentation-section anchor-link">


    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
        <dt id="DUCKDB_REQUIRED_VERSION">DUCKDB_REQUIRED_VERSION
        <dd>
          
        <dt id="LIST_LIMIT">LIST_LIMIT
        <dd>
          
        <dt id="LOCAL_PACKAGE_RESPONSE">LOCAL_PACKAGE_RESPONSE
        <dd>
          
        <dt id="NOKOGIRI_HELP_MESSAGE">NOKOGIRI_HELP_MESSAGE
        <dd>
          
        <dt id="OTHER_LIBRARY_VERSIONS">OTHER_LIBRARY_VERSIONS
        <dd>
          <p>Keep track of what versions of what libraries we build against</p>
        <dt id="PACKAGE_ROOT_DIR">PACKAGE_ROOT_DIR
        <dd>
          <p>helpful constants</p>
        <dt id="RECOMMENDED_LIBXML_VERSION">RECOMMENDED_LIBXML_VERSION
        <dd>
          
        <dt id="REQUIRED_LIBXML_VERSION">REQUIRED_LIBXML_VERSION
        <dd>
          
        <dt id="REQUIRED_MINI_PORTILE_VERSION">REQUIRED_MINI_PORTILE_VERSION
        <dd>
          
        <dt id="REQUIRED_PKG_CONFIG_VERSION">REQUIRED_PKG_CONFIG_VERSION
        <dd>
          
        <dt id="ROOT_PATH">ROOT_PATH
        <dd>
          
      </dl>
    </section>



     <section id="public-instance-5Buntitled-5D-method-details" class="method-section anchor-link">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

      <div id="method-i-Nokogiri" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-Nokogiri" title="Link to this method">
                <span class="method-name">Nokogiri</span>
                <span class="method-args">(*args, &amp;block)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="Nokogiri-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/lib/nokogiri.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">Nokogiri</span>(<span class="ruby-operator">*</span><span class="ruby-identifier ruby-title">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block</span>
    <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">HTML4</span><span class="ruby-operator">::</span><span class="ruby-constant">Builder</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">root</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Nokogiri</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Parse a document contained in <code>args</code>.  <a href="Nokogiri.html"><code>Nokogiri</code></a> will try to guess what type of document you are attempting to parse.  For more information, see <a href="Nokogiri.html#method-c-parse"><code>Nokogiri.parse</code></a></p>

<p>To specify the type of document, use {Nokogiri.XML}, {Nokogiri.HTML4}, or {Nokogiri.HTML5}.</p>
        </div>


      </div>

      <div id="method-i-abort_could_not_find_library" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-abort_could_not_find_library" title="Link to this method">
                <span class="method-name">abort_could_not_find_library</span>
                <span class="method-args">(lib)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="abort_could_not_find_library-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 327</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">abort_could_not_find_library</span>(<span class="ruby-identifier">lib</span>)
  <span class="ruby-identifier">callers</span> = <span class="ruby-identifier">caller</span>(<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-identifier">abort</span>(<span class="ruby-node">&quot;-----\n#{callers}\n#{lib} is missing. Please locate mkmf.log to investigate how it is failing.\n-----&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-add" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-add" title="Link to this method">
                <span class="method-name">add</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="add-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/examples/quick.rb, line 5</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">add</span>
  <span class="ruby-value">1</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-aix-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-aix-3F" title="Link to this method">
                <span class="method-name">aix?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="aix-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">aix?</span>
  <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;target_os&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;aix&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-chdir_for_build" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-chdir_for_build" title="Link to this method">
                <span class="method-name">chdir_for_build</span>
                <span class="method-args">(&amp;block)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="chdir_for_build-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 332</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">chdir_for_build</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-comment"># When using rake-compiler-dock on Windows, the underlying Virtualbox shared</span>
  <span class="ruby-comment"># folders don&#39;t support symlinks, but libiconv expects it for a build on</span>
  <span class="ruby-comment"># Linux. We work around this limitation by using the temp dir for cooking.</span>
  <span class="ruby-identifier">build_dir</span> = <span class="ruby-regexp">/mingw|mswin|cygwin/</span>.<span class="ruby-identifier">match?</span>(<span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;RCD_HOST_RUBY_PLATFORM&quot;</span>].<span class="ruby-identifier">to_s</span>) <span class="ruby-operator">?</span> <span class="ruby-string">&quot;/tmp&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;.&quot;</span>
  <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-identifier">build_dir</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-check_duckdb_header" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-check_duckdb_header" title="Link to this method">
                <span class="method-name">check_duckdb_header</span>
                <span class="method-args">(header, version)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="check_duckdb_header-source">
            <pre><span class="ruby-comment"># File ext/duckdb/extconf.rb, line 7</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">check_duckdb_header</span>(<span class="ruby-identifier">header</span>, <span class="ruby-identifier">version</span>)
  <span class="ruby-identifier">found</span> = <span class="ruby-identifier">find_header</span>(
    <span class="ruby-identifier">header</span>,
    <span class="ruby-string">&#39;/opt/homebrew/include&#39;</span>,
    <span class="ruby-string">&#39;/opt/homebrew/opt/duckdb/include&#39;</span>,
    <span class="ruby-string">&#39;/opt/local/include&#39;</span>
  )
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">found</span>

  <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;#{header} is not found. Install #{header} of duckdb &gt;= #{version}.&quot;</span>
  <span class="ruby-identifier">print_message</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-check_duckdb_library" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-check_duckdb_library" title="Link to this method">
                <span class="method-name">check_duckdb_library</span>
                <span class="method-args">(library, func, version)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="check_duckdb_library-source">
            <pre><span class="ruby-comment"># File ext/duckdb/extconf.rb, line 21</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">check_duckdb_library</span>(<span class="ruby-identifier">library</span>, <span class="ruby-identifier">func</span>, <span class="ruby-identifier">version</span>)
  <span class="ruby-identifier">found</span> = <span class="ruby-identifier">find_library</span>(
    <span class="ruby-identifier">library</span>,
    <span class="ruby-identifier">func</span>,
    <span class="ruby-string">&#39;/opt/homebrew/lib&#39;</span>,
    <span class="ruby-string">&#39;/opt/homebrew/opt/duckdb/lib&#39;</span>,
    <span class="ruby-string">&#39;/opt/local/lib&#39;</span>
  )
  <span class="ruby-identifier">have_func</span>(<span class="ruby-identifier">func</span>, <span class="ruby-string">&#39;duckdb.h&#39;</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">found</span>

  <span class="ruby-identifier">raise_not_found_library</span>(<span class="ruby-identifier">library</span>, <span class="ruby-identifier">version</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-concat_flags" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-concat_flags" title="Link to this method">
                <span class="method-name">concat_flags</span>
                <span class="method-args">(*args)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="concat_flags-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">concat_flags</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot; &quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-config_clean-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-config_clean-3F" title="Link to this method">
                <span class="method-name">config_clean?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="config_clean-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">config_clean?</span>
  <span class="ruby-identifier">enable_config</span>(<span class="ruby-string">&quot;clean&quot;</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>utility functions</p>
        </div>


      </div>

      <div id="method-i-config_cross_build-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-config_cross_build-3F" title="Link to this method">
                <span class="method-name">config_cross_build?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="config_cross_build-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">config_cross_build?</span>
  <span class="ruby-identifier">enable_config</span>(<span class="ruby-string">&quot;cross-build&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-config_static-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-config_static-3F" title="Link to this method">
                <span class="method-name">config_static?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="config_static-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 173</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">config_static?</span>
  <span class="ruby-identifier">default_static</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">truffle?</span>
  <span class="ruby-identifier">enable_config</span>(<span class="ruby-string">&quot;static&quot;</span>, <span class="ruby-identifier">default_static</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-config_system_libraries-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-config_system_libraries-3F" title="Link to this method">
                <span class="method-name">config_system_libraries?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="config_system_libraries-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 182</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">config_system_libraries?</span>
  <span class="ruby-identifier">enable_config</span>(<span class="ruby-string">&quot;system-libraries&quot;</span>, <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;NOKOGIRI_USE_SYSTEM_LIBRARIES&quot;</span>)) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">_</span>, <span class="ruby-identifier">default</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">arg_config</span>(<span class="ruby-string">&quot;--use-system-libraries&quot;</span>, <span class="ruby-identifier">default</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-config_with_xml2_legacy-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-config_with_xml2_legacy-3F" title="Link to this method">
                <span class="method-name">config_with_xml2_legacy?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="config_with_xml2_legacy-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 188</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">config_with_xml2_legacy?</span>
  <span class="ruby-identifier">enable_config</span>(<span class="ruby-string">&quot;xml2-legacy&quot;</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-copy_packaged_libraries_headers" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-copy_packaged_libraries_headers" title="Link to this method">
                <span class="method-name">copy_packaged_libraries_headers</span>
                <span class="method-args">(to_path:, from_recipes:)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="copy_packaged_libraries_headers-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 565</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">copy_packaged_libraries_headers</span>(<span class="ruby-value">to_path:</span>, <span class="ruby-value">from_recipes:</span>)
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">to_path</span>, <span class="ruby-value">secure:</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">to_path</span>)
  <span class="ruby-identifier">from_recipes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">recipe</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">cp_r</span>(<span class="ruby-constant">Dir</span>[<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">path</span>, <span class="ruby-string">&quot;include/*&quot;</span>)], <span class="ruby-identifier">to_path</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-darwin-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-darwin-3F" title="Link to this method">
                <span class="method-name">darwin?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="darwin-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 200</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">darwin?</span>
  <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;target_os&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;darwin&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-do_clean" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-do_clean" title="Link to this method">
                <span class="method-name">do_clean</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="do_clean-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 578</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">do_clean</span>
  <span class="ruby-identifier">root</span> = <span class="ruby-constant">Pathname</span>(<span class="ruby-constant">PACKAGE_ROOT_DIR</span>)
  <span class="ruby-identifier">pwd</span>  = <span class="ruby-constant">Pathname</span>(<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>)

  <span class="ruby-comment"># Skip if this is a development work tree</span>
  <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;.git&quot;</span>).<span class="ruby-identifier">exist?</span>
    <span class="ruby-identifier">message</span>(<span class="ruby-string">&quot;Cleaning files only used during build.\n&quot;</span>)

    <span class="ruby-comment"># (root + &#39;tmp&#39;) cannot be removed at this stage because</span>
    <span class="ruby-comment"># nokogiri.so is yet to be copied to lib.</span>

    <span class="ruby-comment"># clean the ports build directory</span>
    <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">pwd</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;tmp&quot;</span>, <span class="ruby-string">&quot;*&quot;</span>, <span class="ruby-string">&quot;ports&quot;</span>)) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
      <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-value">verbose:</span> <span class="ruby-keyword">true</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">config_static?</span>
      <span class="ruby-comment"># ports installation can be safely removed if statically linked.</span>
      <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;ports&quot;</span>, <span class="ruby-value">verbose:</span> <span class="ruby-keyword">true</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span>(<span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;ports&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;archives&quot;</span>, <span class="ruby-value">verbose:</span> <span class="ruby-keyword">true</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">exit!</span>(<span class="ruby-value">0</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-do_help" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-do_help" title="Link to this method">
                <span class="method-name">do_help</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="do_help-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 573</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">do_help</span>
  <span class="ruby-identifier">print</span>(<span class="ruby-constant">NOKOGIRI_HELP_MESSAGE</span>)
  <span class="ruby-identifier">exit!</span>(<span class="ruby-value">0</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-duckdb_library_name" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-duckdb_library_name" title="Link to this method">
                <span class="method-name">duckdb_library_name</span>
                <span class="method-args">(library)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="duckdb_library_name-source">
            <pre><span class="ruby-comment"># File ext/duckdb/extconf.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">duckdb_library_name</span>(<span class="ruby-identifier">library</span>)
  <span class="ruby-node">&quot;lib#{library}.#{RbConfig::CONFIG[&#39;DLEXT&#39;]}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-ensure_func" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-ensure_func" title="Link to this method">
                <span class="method-name">ensure_func</span>
                <span class="method-args">(func, headers = nil)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="ensure_func-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ensure_func</span>(<span class="ruby-identifier">func</span>, <span class="ruby-identifier">headers</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">have_func</span>(<span class="ruby-identifier">func</span>, <span class="ruby-identifier">headers</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">abort_could_not_find_library</span>(<span class="ruby-identifier">func</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-ensure_package_configuration" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-ensure_package_configuration" title="Link to this method">
                <span class="method-name">ensure_package_configuration</span>
                <span class="method-args">(opt: nil, pc: nil, lib:, func:, headers:)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="ensure_package_configuration-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 311</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ensure_package_configuration</span>(<span class="ruby-value">opt:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">pc:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">lib:</span>, <span class="ruby-value">func:</span>, <span class="ruby-value">headers:</span>)
  <span class="ruby-identifier">have_package_configuration</span>(<span class="ruby-value">opt:</span> <span class="ruby-identifier">opt</span>, <span class="ruby-value">pc:</span> <span class="ruby-identifier">pc</span>, <span class="ruby-value">lib:</span> <span class="ruby-identifier">lib</span>, <span class="ruby-value">func:</span> <span class="ruby-identifier">func</span>, <span class="ruby-value">headers:</span> <span class="ruby-identifier">headers</span>) <span class="ruby-operator">||</span>
    <span class="ruby-identifier">abort_could_not_find_library</span>(<span class="ruby-identifier">lib</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-gem_file" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-gem_file" title="Link to this method">
                <span class="method-name">gem_file</span>
                <span class="method-args">(folder, name, version)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="gem_file-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/rake-compiler-1.2.8/features/step_definitions/gem.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gem_file</span>(<span class="ruby-identifier">folder</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>)
  <span class="ruby-node">&quot;#{folder}/#{name}-#{version}.gem&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-gem_file_platform" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-gem_file_platform" title="Link to this method">
                <span class="method-name">gem_file_platform</span>
                <span class="method-args">(folder, name, version, platform = nil)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="gem_file_platform-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/rake-compiler-1.2.8/features/step_definitions/gem.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gem_file_platform</span>(<span class="ruby-identifier">folder</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>, <span class="ruby-identifier">platform</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">file</span> = <span class="ruby-node">&quot;#{folder}/#{name}-#{version}&quot;</span>
  <span class="ruby-identifier">file</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;-&quot;</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">platform</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">RUBY_PLATFORM</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">file</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;.gem&quot;</span>
  <span class="ruby-identifier">file</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-gnome_source" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-gnome_source" title="Link to this method">
                <span class="method-name">gnome_source</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="gnome_source-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gnome_source</span>
  <span class="ruby-comment"># As of 2022-02-20, some mirrors have expired SSL certificates. I&#39;m able to retrieve from my home,</span>
  <span class="ruby-comment"># but whatever host is resolved on the github actions workers see an expired cert.</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># See https://github.com/sparklemotion/nokogiri/runs/5266206403?check_suite_focus=true</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;NOKOGIRI_USE_CANONICAL_GNOME_SOURCE&quot;</span>]
    <span class="ruby-string">&quot;https://download.gnome.org&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-string">&quot;https://muug.ca/mirror/gnome&quot;</span> <span class="ruby-comment"># old reliable</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-have_builtin_func" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-have_builtin_func" title="Link to this method">
                <span class="method-name">have_builtin_func</span>
                <span class="method-args">(name, check_expr, opt = &quot;&quot;, &amp;b)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="have_builtin_func-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/bigdecimal-3.1.8/ext/bigdecimal/extconf.rb, line 4</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">have_builtin_func</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">check_expr</span>, <span class="ruby-identifier">opt</span> = <span class="ruby-string">&quot;&quot;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
  <span class="ruby-identifier">checking_for</span> <span class="ruby-identifier">checking_message</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">funcall_style</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">opt</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">try_compile</span>(<span class="ruby-identifier">&lt;&lt;SRC</span>, <span class="ruby-identifier">opt</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">b</span>)
<span class="ruby-value">int foo;
int main() { #{check_expr}; return 0; }
</span><span class="ruby-identifier">SRC</span>
      <span class="ruby-identifier">$defs</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">format</span>(<span class="ruby-string">&quot;-DHAVE_BUILTIN_%s&quot;</span>, <span class="ruby-identifier">name</span>.<span class="ruby-identifier">tr_cpp</span>))
      <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-have_libxml_headers-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-have_libxml_headers-3F" title="Link to this method">
                <span class="method-name">have_libxml_headers?</span>
                <span class="method-args">(version = nil)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="have_libxml_headers-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 369</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">have_libxml_headers?</span>(<span class="ruby-identifier">version</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">source</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">version</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">&lt;&lt;~SRC</span>
<span class="ruby-value">      #include &lt;libxml/xmlversion.h&gt;
</span><span class="ruby-identifier">    SRC</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">version_int</span> = <span class="ruby-identifier">format</span>(<span class="ruby-string">&quot;%d%2.2d%2.2d&quot;</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">version</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;.&quot;</span>))
    <span class="ruby-identifier">&lt;&lt;~SRC</span>
<span class="ruby-value">      #include &lt;libxml/xmlversion.h&gt;
      #if LIBXML_VERSION &lt; #{version_int}
      #  error libxml2 is older than #{version}
      #endif
</span><span class="ruby-identifier">    SRC</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">try_cpp</span>(<span class="ruby-identifier">source</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-have_package_configuration" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-have_package_configuration" title="Link to this method">
                <span class="method-name">have_package_configuration</span>
                <span class="method-args">(opt: nil, pc: nil, lib:, func:, headers:)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="have_package_configuration-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 294</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">have_package_configuration</span>(<span class="ruby-value">opt:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">pc:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">lib:</span>, <span class="ruby-value">func:</span>, <span class="ruby-value">headers:</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opt</span>
    <span class="ruby-identifier">dir_config</span>(<span class="ruby-identifier">opt</span>)
    <span class="ruby-identifier">dir_config</span>(<span class="ruby-string">&quot;opt&quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># see if we have enough path info to do this without trying any harder</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;NOKOGIRI_TEST_PKG_CONFIG&quot;</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">local_have_library</span>(<span class="ruby-identifier">lib</span>, <span class="ruby-identifier">func</span>, <span class="ruby-identifier">headers</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">try_package_configuration</span>(<span class="ruby-identifier">pc</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">pc</span>

  <span class="ruby-comment"># verify that we can compile and link against the library</span>
  <span class="ruby-identifier">local_have_library</span>(<span class="ruby-identifier">lib</span>, <span class="ruby-identifier">func</span>, <span class="ruby-identifier">headers</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>set up mkmf to link against the library if we can find it</p>
        </div>


      </div>

      <div id="method-i-iconv_configure_flags" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-iconv_configure_flags" title="Link to this method">
                <span class="method-name">iconv_configure_flags</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="iconv_configure_flags-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 408</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">iconv_configure_flags</span>
  <span class="ruby-comment"># give --with-iconv-dir and --with-opt-dir first priority</span>
  [<span class="ruby-string">&quot;iconv&quot;</span>, <span class="ruby-string">&quot;opt&quot;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">target</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">config</span> = <span class="ruby-identifier">preserving_globals</span> { <span class="ruby-identifier">dir_config</span>(<span class="ruby-identifier">target</span>) }
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">try_link_iconv</span>(<span class="ruby-node">&quot;--with-#{target}-* flags&quot;</span>) { <span class="ruby-identifier">dir_config</span>(<span class="ruby-identifier">target</span>) }

    <span class="ruby-identifier">idirs</span>, <span class="ruby-identifier">ldirs</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dirs</span><span class="ruby-operator">|</span>
      <span class="ruby-constant">Array</span>(<span class="ruby-identifier">dirs</span>).<span class="ruby-identifier">flat_map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">dir</span>.<span class="ruby-identifier">split</span>(<span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">PATH_SEPARATOR</span>)
      <span class="ruby-keyword">end</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">dirs</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">return</span> [
      <span class="ruby-string">&quot;--with-iconv=yes&quot;</span>,
      <span class="ruby-operator">*</span>(<span class="ruby-node">&quot;CPPFLAGS=#{idirs.map { |dir| &quot;-I&quot; + dir }.join(&quot; &quot;)}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">idirs</span>),
      <span class="ruby-operator">*</span>(<span class="ruby-node">&quot;LDFLAGS=#{ldirs.map { |dir| &quot;-L&quot; + dir }.join(&quot; &quot;)}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ldirs</span>),
    ]
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">try_link_iconv</span>
    <span class="ruby-keyword">return</span> [<span class="ruby-string">&quot;--with-iconv=yes&quot;</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">config</span> = <span class="ruby-identifier">preserving_globals</span> { <span class="ruby-identifier">pkg_config</span>(<span class="ruby-string">&quot;libiconv&quot;</span>) }
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">config</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">try_link_iconv</span>(<span class="ruby-string">&quot;pkg-config libiconv&quot;</span>) { <span class="ruby-identifier">pkg_config</span>(<span class="ruby-string">&quot;libiconv&quot;</span>) }
    <span class="ruby-identifier">cflags</span>, <span class="ruby-identifier">ldflags</span>, <span class="ruby-identifier">libs</span> = <span class="ruby-identifier">config</span>

    <span class="ruby-keyword">return</span> [
      <span class="ruby-string">&quot;--with-iconv=yes&quot;</span>,
      <span class="ruby-node">&quot;CPPFLAGS=#{cflags}&quot;</span>,
      <span class="ruby-node">&quot;LDFLAGS=#{ldflags}&quot;</span>,
      <span class="ruby-node">&quot;LIBS=#{libs}&quot;</span>,
    ]
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">abort_could_not_find_library</span>(<span class="ruby-string">&quot;libiconv&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-libflag_to_filename" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-libflag_to_filename" title="Link to this method">
                <span class="method-name">libflag_to_filename</span>
                <span class="method-args">(ldflag)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="libflag_to_filename-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 362</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">libflag_to_filename</span>(<span class="ruby-identifier">ldflag</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">ldflag</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A-l(.+)/</span>
    <span class="ruby-node">&quot;lib#{Regexp.last_match(1)}.#{$LIBEXT}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-local_have_library" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-local_have_library" title="Link to this method">
                <span class="method-name">local_have_library</span>
                <span class="method-args">(lib, func = nil, headers = nil)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="local_have_library-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 228</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">local_have_library</span>(<span class="ruby-identifier">lib</span>, <span class="ruby-identifier">func</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">headers</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">have_library</span>(<span class="ruby-identifier">lib</span>, <span class="ruby-identifier">func</span>, <span class="ruby-identifier">headers</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">have_library</span>(<span class="ruby-node">&quot;lib#{lib}&quot;</span>, <span class="ruby-identifier">func</span>, <span class="ruby-identifier">headers</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-log_conflict" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-log_conflict" title="Link to this method">
                <span class="method-name">log_conflict</span>
                <span class="method-args">(states)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="log_conflict-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/racc-1.8.1/bin/racc, line 235</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">log_conflict</span>(<span class="ruby-identifier">states</span>)
  <span class="ruby-identifier">logging</span>(<span class="ruby-string">&#39;w&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;ex#{states.grammar.n_expected_srconflicts}&quot;</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">states</span>.<span class="ruby-identifier">should_report_srconflict?</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;sr#{states.n_srconflicts}&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">states</span>.<span class="ruby-identifier">rrconflict_exist?</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;rr#{states.n_rrconflicts}&quot;</span>
    <span class="ruby-keyword">end</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-log_useless" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-log_useless" title="Link to this method">
                <span class="method-name">log_useless</span>
                <span class="method-args">(grammar)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="log_useless-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/racc-1.8.1/bin/racc, line 260</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">log_useless</span>(<span class="ruby-identifier">grammar</span>)
  <span class="ruby-identifier">logging</span>(<span class="ruby-string">&#39;a&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">grammar</span>.<span class="ruby-identifier">useless_nonterminal_exist?</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;un#{grammar.n_useless_nonterminals}&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">grammar</span>.<span class="ruby-identifier">useless_rule_exist?</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;ur#{grammar.n_useless_rules}&quot;</span>
    <span class="ruby-keyword">end</span>
  }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-logging" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-logging" title="Link to this method">
                <span class="method-name">logging</span>
                <span class="method-args">(mode, &amp;block)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="logging-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/racc-1.8.1/bin/racc, line 271</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">logging</span>(<span class="ruby-identifier">mode</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-node">&quot;log/#{File.basename(ARGV[0])}&quot;</span>, <span class="ruby-identifier">mode</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-main" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-main" title="Link to this method">
                <span class="method-name">main</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="main-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/racc-1.8.1/bin/racc, line 14</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">main</span>
  <span class="ruby-identifier">output</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">debug_parser</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">make_logfile</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">logfilename</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">make_executable</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">rubypath</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">embed_runtime</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">frozen_strings</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">debug_flags</span> = <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">DebugFlags</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">line_convert</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">line_convert_all</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">omit_action_call</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">superclass</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">check_only</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">verbose</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">profiler</span> = <span class="ruby-constant">RaccProfiler</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">false</span>)

  <span class="ruby-identifier">parser</span> = <span class="ruby-constant">OptionParser</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">banner</span> = <span class="ruby-node">&quot;Usage: #{File.basename($0)} [options] [input]&quot;</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-o&#39;</span>, <span class="ruby-string">&#39;--output-file=PATH&#39;</span>,
            <span class="ruby-string">&#39;output file name [&lt;input&gt;.tab.rb]&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">output</span> = <span class="ruby-identifier">name</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-t&#39;</span>, <span class="ruby-string">&#39;--debug&#39;</span>, <span class="ruby-string">&#39;Outputs debugging parser.&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">fl</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">debug_parser</span> = <span class="ruby-identifier">fl</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-g&#39;</span>, <span class="ruby-string">&#39;Equivalent to -t (obsolete).&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">fl</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;racc -g is obsolete.  Use racc -t instead.&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
    <span class="ruby-identifier">debug_parser</span> = <span class="ruby-identifier">fl</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-v&#39;</span>, <span class="ruby-string">&#39;--verbose&#39;</span>,
            <span class="ruby-string">&#39;Creates &lt;filename&gt;.output log file.&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">fl</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">make_logfile</span> = <span class="ruby-identifier">fl</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-O&#39;</span>, <span class="ruby-string">&#39;--log-file=PATH&#39;</span>,
            <span class="ruby-string">&#39;Log file name [&lt;input&gt;.output]&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">make_logfile</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">logfilename</span> = <span class="ruby-identifier">path</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-e&#39;</span>, <span class="ruby-string">&#39;--executable [RUBYPATH]&#39;</span>, <span class="ruby-string">&#39;Makes executable parser.&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">make_executable</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">rubypath</span> = (<span class="ruby-identifier">path</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;ruby&#39;</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">path</span>)
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-E&#39;</span>, <span class="ruby-string">&#39;--embedded&#39;</span>, <span class="ruby-string">&quot;Embeds Racc runtime in output.&quot;</span>) {
    <span class="ruby-identifier">embed_runtime</span> = <span class="ruby-keyword">true</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-F&#39;</span>, <span class="ruby-string">&#39;--frozen&#39;</span>, <span class="ruby-string">&quot;Add frozen_string_literals: true.&quot;</span>) {
    <span class="ruby-identifier">frozen_strings</span> = <span class="ruby-keyword">true</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;--line-convert-all&#39;</span>, <span class="ruby-string">&#39;Converts line numbers of user codes.&#39;</span>) {
    <span class="ruby-identifier">line_convert_all</span> = <span class="ruby-keyword">true</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-l&#39;</span>, <span class="ruby-string">&#39;--no-line-convert&#39;</span>, <span class="ruby-string">&#39;Never convert line numbers.&#39;</span>) {
    <span class="ruby-identifier">line_convert</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">line_convert_all</span> = <span class="ruby-keyword">false</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-a&#39;</span>, <span class="ruby-string">&#39;--no-omit-actions&#39;</span>, <span class="ruby-string">&#39;Never omit actions.&#39;</span>) {
    <span class="ruby-identifier">omit_action_call</span> = <span class="ruby-keyword">false</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;--superclass=CLASSNAME&#39;</span>,
            <span class="ruby-string">&#39;Uses CLASSNAME instead of Racc::Parser.&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">superclass</span> = <span class="ruby-identifier">name</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-C&#39;</span>, <span class="ruby-string">&#39;--check-only&#39;</span>, <span class="ruby-string">&#39;Checks syntax and quit immediately.&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">fl</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">check_only</span> = <span class="ruby-identifier">fl</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-S&#39;</span>, <span class="ruby-string">&#39;--output-status&#39;</span>, <span class="ruby-string">&#39;Outputs internal status time to time.&#39;</span>) {
    <span class="ruby-identifier">verbose</span> = <span class="ruby-keyword">true</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-P&#39;</span>, <span class="ruby-string">&#39;Enables generator profile&#39;</span>) {
    <span class="ruby-identifier">profiler</span> = <span class="ruby-constant">RaccProfiler</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">true</span>)
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;-D flags&#39;</span>, <span class="ruby-string">&quot;Flags for Racc debugging (do not use).&quot;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">flags</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">debug_flags</span> = <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">DebugFlags</span>.<span class="ruby-identifier">parse_option_string</span>(<span class="ruby-identifier">flags</span>)
  }
  <span class="ruby-comment">#parser.on(&#39;--no-extensions&#39;, &#39;Run Racc without any Ruby extension.&#39;) {</span>
  <span class="ruby-comment">#  Racc.const_set :Racc_No_Extensions, true</span>
  <span class="ruby-comment">#}</span>
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;--version&#39;</span>, <span class="ruby-string">&#39;Prints version and quit.&#39;</span>) {
    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;racc version #{Racc::Version}&quot;</span>
    <span class="ruby-identifier">exit</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;--runtime-version&#39;</span>, <span class="ruby-string">&#39;Prints runtime version and quit.&#39;</span>) {
    <span class="ruby-identifier">printf</span> <span class="ruby-string">&quot;racc runtime version %s; %s core version %s\n&quot;</span>,
           <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Racc_Runtime_Version</span>,
           <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">racc_runtime_type</span>,
           <span class="ruby-keyword">if</span> <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">racc_runtime_type</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;ruby&#39;</span>
             <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Racc_Runtime_Core_Version_R</span>
           <span class="ruby-keyword">else</span>
             <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span><span class="ruby-operator">::</span><span class="ruby-constant">Racc_Runtime_Core_Version_C</span>
           <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">exit</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;--copyright&#39;</span>, <span class="ruby-string">&#39;Prints copyright and quit.&#39;</span>) {
    <span class="ruby-identifier">puts</span> <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">Copyright</span>
    <span class="ruby-identifier">exit</span>
  }
  <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&#39;--help&#39;</span>, <span class="ruby-string">&#39;Prints this message and quit.&#39;</span>) {
    <span class="ruby-identifier">puts</span> <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">help</span>
    <span class="ruby-identifier">exit</span>
  }
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse!</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">ParseError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">err</span>
    <span class="ruby-identifier">abort</span> [<span class="ruby-identifier">err</span>.<span class="ruby-identifier">message</span>, <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">help</span>].<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ARGV</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">abort</span> <span class="ruby-string">&#39;too many input&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">input</span> = <span class="ruby-constant">ARGV</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;stdin&quot;</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">input</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;stdin&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">output</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">abort</span> <span class="ruby-string">&#39;You must specify a path to read or use -o &lt;path&gt; for output.&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;Parsing grammar file...&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-identifier">profiler</span>.<span class="ruby-identifier">section</span>(<span class="ruby-string">&#39;parse&#39;</span>) {
      <span class="ruby-identifier">parser</span> = <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">GrammarFileParser</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">debug_flags</span>)
      <span class="ruby-identifier">content</span> = <span class="ruby-identifier">input</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;stdin&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-constant">ARGF</span>.<span class="ruby-identifier">read</span> <span class="ruby-operator">:</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">input</span>)
      <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">content</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">input</span>))
    }
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">check_only</span>
      <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;syntax ok&#39;</span>
      <span class="ruby-identifier">exit</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;Generating LALR states...&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
    <span class="ruby-identifier">states</span> = <span class="ruby-identifier">profiler</span>.<span class="ruby-identifier">section</span>(<span class="ruby-string">&#39;nfa&#39;</span>) {
      <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">States</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">result</span>.<span class="ruby-identifier">grammar</span>).<span class="ruby-identifier">nfa</span>
    }

    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Resolving #{states.size} states...&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
    <span class="ruby-identifier">profiler</span>.<span class="ruby-identifier">section</span>(<span class="ruby-string">&#39;dfa&#39;</span>) {
      <span class="ruby-identifier">states</span>.<span class="ruby-identifier">dfa</span>
    }

    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;Creating parser file...&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
    <span class="ruby-identifier">params</span> = <span class="ruby-identifier">result</span>.<span class="ruby-identifier">params</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">filename</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">input</span>)
    <span class="ruby-comment"># Overwrites parameters given by a grammar file with command line options.</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">superclass</span> = <span class="ruby-identifier">superclass</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">superclass</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">omit_action_call</span> = <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">omit_action_call</span>
    <span class="ruby-comment"># From command line option</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">make_executable</span>
      <span class="ruby-identifier">params</span>.<span class="ruby-identifier">make_executable</span> = <span class="ruby-keyword">true</span>
      <span class="ruby-identifier">params</span>.<span class="ruby-identifier">interpreter</span> = <span class="ruby-identifier">rubypath</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">debug_parser</span> = <span class="ruby-identifier">debug_parser</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">convert_line</span> = <span class="ruby-identifier">line_convert</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">convert_line_all</span> = <span class="ruby-identifier">line_convert_all</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">embed_runtime</span> = <span class="ruby-identifier">embed_runtime</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">frozen_strings</span> = <span class="ruby-identifier">frozen_strings</span>
    <span class="ruby-identifier">profiler</span>.<span class="ruby-identifier">section</span>(<span class="ruby-string">&#39;generation&#39;</span>) {
      <span class="ruby-identifier">generator</span> = <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">ParserFileGenerator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">states</span>, <span class="ruby-identifier">params</span>)
      <span class="ruby-identifier">generator</span>.<span class="ruby-identifier">generate_parser_file</span>(<span class="ruby-identifier">output</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">make_filename</span>(<span class="ruby-identifier">input</span>, <span class="ruby-string">&#39;.tab.rb&#39;</span>))
    }

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">make_logfile</span>
      <span class="ruby-identifier">profiler</span>.<span class="ruby-identifier">section</span>(<span class="ruby-string">&#39;logging&#39;</span>) {
        <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;Creating log file...&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">verbose</span>
        <span class="ruby-identifier">logfilename</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">make_filename</span>(<span class="ruby-identifier">output</span> <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">input</span>), <span class="ruby-string">&#39;.output&#39;</span>)
        <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">logfilename</span>, <span class="ruby-string">&#39;w&#39;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
          <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">LogFileGenerator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">states</span>, <span class="ruby-identifier">debug_flags</span>).<span class="ruby-identifier">output</span> <span class="ruby-identifier">f</span>
        }
      }
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">debug_flags</span>.<span class="ruby-identifier">status_logging</span>
      <span class="ruby-identifier">log_useless</span> <span class="ruby-identifier">states</span>.<span class="ruby-identifier">grammar</span>
      <span class="ruby-identifier">log_conflict</span> <span class="ruby-identifier">states</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">has_useless</span> = <span class="ruby-identifier">report_useless</span> <span class="ruby-identifier">states</span>.<span class="ruby-identifier">grammar</span>
      <span class="ruby-identifier">has_conflicts</span> = <span class="ruby-identifier">report_conflict</span> <span class="ruby-identifier">states</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">has_useless</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">has_conflicts</span>
        <span class="ruby-identifier">preamble</span> = <span class="ruby-identifier">make_logfile</span> <span class="ruby-operator">?</span> <span class="ruby-string">&#39;C&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&#39;Turn on logging with &quot;-v&quot; and c&#39;</span>
        <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">%Q{#{preamble}heck &quot;.output&quot; file for details}</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">profiler</span>.<span class="ruby-identifier">report</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">states</span>.<span class="ruby-identifier">should_error_on_expect_mismatch?</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">CompileError</span>, <span class="ruby-node">&quot;#{states.grammar.n_expected_srconflicts} shift/reduce conflicts are expected but #{states.n_srconflicts} shift/reduce conflicts exist&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Racc</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">ENOENT</span>, <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EPERM</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">err</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$DEBUG</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">debug_flags</span>.<span class="ruby-identifier">any?</span>
    <span class="ruby-identifier">lineno</span> = <span class="ruby-identifier">err</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-regexp">/\A\d+:/</span>).<span class="ruby-identifier">to_s</span>
    <span class="ruby-identifier">abort</span> <span class="ruby-node">&quot;#{File.basename $0}: #{input}:#{lineno} #{err.message.strip}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-make_filename" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-make_filename" title="Link to this method">
                <span class="method-name">make_filename</span>
                <span class="method-args">(path, suffix)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="make_filename-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/racc-1.8.1/bin/racc, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">make_filename</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">suffix</span>)
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/(?:\..*?)?\z/</span>, <span class="ruby-identifier">suffix</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-needs_darwin_linker_hack" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-needs_darwin_linker_hack" title="Link to this method">
                <span class="method-name">needs_darwin_linker_hack</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="needs_darwin_linker_hack-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 627</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">needs_darwin_linker_hack</span>
  <span class="ruby-identifier">config_cross_build?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-identifier">darwin?</span> <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Requirement</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;~&gt; 3.2&quot;</span>).<span class="ruby-identifier">satisfied_by?</span>(<span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;ruby_version&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;+&quot;</span>).<span class="ruby-identifier">first</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>In ruby 3.2, symbol resolution changed on Darwin, to introduce the ‘-bundle_loader` flag to resolve symbols against the ruby binary.</p>

<p>This makes it challenging to build a single extension that works with both a ruby with ‘–enable-shared` and one with `–disable-shared. To work around that, we choose to add `-flat_namespace` to the link line (later in this file).</p>

<p>The ‘-flat_namespace` line introduces its own behavior change, which is that (similar to on Linux), any symbols in the extension that are exported may now be resolved by shared libraries loaded by the Ruby process. Specifically, that means that libxml2 and libxslt, which are statically linked into the nokogiri bundle, will resolve (at runtime) to a system libxml2 loaded by Ruby on Darwin. And it appears that often Ruby on Darwin does indeed load the system libxml2, and that messes with our assumptions about whether we’re running with a patched libxml2 or a vanilla libxml2.</p>

<p>We choose to use ‘-load_hidden` in this case to prevent exporting those symbols from libxml2 and libxslt, which ensures that they will be resolved to the static libraries in the bundle. In other words, when we use `load_hidden`, what happens in the extension stays in the extension.</p>

<p>See <a href="https://github.com/rake-compiler/rake-compiler-dock/issues/87">github.com/rake-compiler/rake-compiler-dock/issues/87</a> for more info.</p>

<p>Anyway, this method is the logical bit to tell us when to turn on these workarounds.</p>
        </div>


      </div>

      <div id="method-i-nix-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-nix-3F" title="Link to this method">
                <span class="method-name">nix?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="nix-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">nix?</span>
  <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;NIX_CC&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-openbsd-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-openbsd-3F" title="Link to this method">
                <span class="method-name">openbsd?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="openbsd-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">openbsd?</span>
  <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;target_os&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;openbsd&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-preserving_globals" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-preserving_globals" title="Link to this method">
                <span class="method-name">preserving_globals</span>
                <span class="method-args">() { || ... }</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="preserving_globals-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">preserving_globals</span>
  <span class="ruby-identifier">values</span> = [<span class="ruby-identifier">$arg_config</span>, <span class="ruby-identifier">$INCFLAGS</span>, <span class="ruby-identifier">$CFLAGS</span>, <span class="ruby-identifier">$CPPFLAGS</span>, <span class="ruby-identifier">$LDFLAGS</span>, <span class="ruby-identifier">$DLDFLAGS</span>, <span class="ruby-identifier">$LIBPATH</span>, <span class="ruby-identifier">$libs</span>].<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:dup</span>)
  <span class="ruby-keyword">yield</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">$arg_config</span>, <span class="ruby-identifier">$INCFLAGS</span>, <span class="ruby-identifier">$CFLAGS</span>, <span class="ruby-identifier">$CPPFLAGS</span>, <span class="ruby-identifier">$LDFLAGS</span>, <span class="ruby-identifier">$DLDFLAGS</span>, <span class="ruby-identifier">$LIBPATH</span>, <span class="ruby-identifier">$libs</span> = <span class="ruby-identifier">values</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-print_message" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-print_message" title="Link to this method">
                <span class="method-name">print_message</span>
                <span class="method-args">(msg)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="print_message-source">
            <pre><span class="ruby-comment"># File ext/duckdb/extconf.rb, line 46</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">print_message</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-identifier">print</span> <span class="ruby-identifier">&lt;&lt;~END_OF_MESSAGE</span>
<span class="ruby-value">
    #{&#39;*&#39; * 80}
    #{msg}
    #{&#39;*&#39; * 80}

</span><span class="ruby-identifier">  END_OF_MESSAGE</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-process_recipe" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-process_recipe" title="Link to this method">
                <span class="method-name">process_recipe</span>
                <span class="method-args">(name, version, static_p, cross_p, cacheable_p = true) { |recipe| ... }</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="process_recipe-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 446</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">process_recipe</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>, <span class="ruby-identifier">static_p</span>, <span class="ruby-identifier">cross_p</span>, <span class="ruby-identifier">cacheable_p</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rubygems&quot;</span>
  <span class="ruby-identifier">gem</span>(<span class="ruby-string">&quot;mini_portile2&quot;</span>, <span class="ruby-constant">REQUIRED_MINI_PORTILE_VERSION</span>) <span class="ruby-comment"># gemspec is not respected at install time</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;mini_portile2&quot;</span>
  <span class="ruby-identifier">message</span>(<span class="ruby-node">&quot;Using mini_portile version #{MiniPortile::VERSION}\n&quot;</span>)

  <span class="ruby-keyword">unless</span> [<span class="ruby-string">&quot;libxml2&quot;</span>, <span class="ruby-string">&quot;libxslt&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-constant">OTHER_LIBRARY_VERSIONS</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">version</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">MiniPortile</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">recipe</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">recipe</span>.<span class="ruby-identifier">port_path</span>
      <span class="ruby-node">&quot;#{@target}/#{RUBY_PLATFORM}/#{@name}/#{@version}&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># We use &#39;host&#39; to set compiler prefix for cross-compiling. Prefer host_alias over host. And</span>
    <span class="ruby-comment"># prefer i686 (what external dev tools use) to i386 (what ruby&#39;s configure.ac emits).</span>
    <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">host</span> = <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;host_alias&quot;</span>].<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;host&quot;</span>] <span class="ruby-operator">:</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;host_alias&quot;</span>]
    <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">host</span> = <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">host</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;i386&quot;</span>, <span class="ruby-string">&quot;i686&quot;</span>)

    <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">target</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">PACKAGE_ROOT_DIR</span>, <span class="ruby-string">&quot;ports&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">cacheable_p</span>
    <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">configure_options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;--libdir=#{File.join(recipe.path, &quot;lib&quot;)}&quot;</span>

    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">recipe</span>

    <span class="ruby-identifier">env</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">key</span>] = (<span class="ruby-constant">ENV</span>[<span class="ruby-identifier">key</span>]).<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">configure_options</span>.<span class="ruby-identifier">flatten!</span>

    <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">configure_options</span>.<span class="ruby-identifier">delete_if</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">option</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">option</span>
      <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A(\w+)=(.*)\z/</span>
        <span class="ruby-identifier">env</span>[<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>(<span class="ruby-value">1</span>)] = <span class="ruby-keyword">if</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>(<span class="ruby-value">1</span>))
          <span class="ruby-identifier">concat_flags</span>(<span class="ruby-identifier">env</span>[<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>(<span class="ruby-value">1</span>)], <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>(<span class="ruby-value">2</span>))
        <span class="ruby-keyword">else</span>
          <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">last_match</span>(<span class="ruby-value">2</span>)
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">true</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">false</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">static_p</span>
      <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">configure_options</span> <span class="ruby-operator">+=</span> [
        <span class="ruby-string">&quot;--disable-shared&quot;</span>,
        <span class="ruby-string">&quot;--enable-static&quot;</span>,
      ]
      <span class="ruby-identifier">env</span>[<span class="ruby-string">&quot;CFLAGS&quot;</span>] = <span class="ruby-identifier">concat_flags</span>(<span class="ruby-identifier">env</span>[<span class="ruby-string">&quot;CFLAGS&quot;</span>], <span class="ruby-string">&quot;-fPIC&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">configure_options</span> <span class="ruby-operator">+=</span> [
        <span class="ruby-string">&quot;--enable-shared&quot;</span>,
        <span class="ruby-string">&quot;--disable-static&quot;</span>,
      ]
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">cross_p</span>
      <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">configure_options</span> <span class="ruby-operator">+=</span> [
        <span class="ruby-node">&quot;--target=#{recipe.host}&quot;</span>,
        <span class="ruby-node">&quot;--host=#{recipe.host}&quot;</span>,
      ]
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;target_cpu&quot;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;universal&quot;</span>
      [<span class="ruby-string">&quot;CFLAGS&quot;</span>, <span class="ruby-string">&quot;LDFLAGS&quot;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">env</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;-arch&quot;</span>)
          <span class="ruby-identifier">env</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">concat_flags</span>(<span class="ruby-identifier">env</span>[<span class="ruby-identifier">key</span>], <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;ARCH_FLAG&quot;</span>])
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">configure_options</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
      <span class="ruby-node">&quot;#{key}=#{value.strip}&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">checkpoint</span> = <span class="ruby-node">&quot;#{recipe.target}/#{recipe.name}-#{recipe.version}-#{RUBY_PLATFORM}.installed&quot;</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">checkpoint</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">source_directory</span>
      <span class="ruby-identifier">message</span>(<span class="ruby-node">&quot;Building Nokogiri with a packaged version of #{name}-#{version}.\n&quot;</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">message</span>(<span class="ruby-identifier">&lt;&lt;~EOM</span>)
<span class="ruby-value">        ---------- IMPORTANT NOTICE ----------
        Building Nokogiri with a packaged version of #{name}-#{version}.
        Configuration options: #{recipe.configure_options.shelljoin}
</span><span class="ruby-identifier">      EOM</span>

      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">patch_files</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">message</span>(<span class="ruby-string">&quot;The following patches are being applied:\n&quot;</span>)

        <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">patch_files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">patch</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">message</span>(<span class="ruby-identifier">format</span>(<span class="ruby-string">&quot;  - %s\n&quot;</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">patch</span>)))
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">message</span>(<span class="ruby-identifier">&lt;&lt;~EOM</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;libgumbo&quot;</span>
<span class="ruby-value">
        The Nokogiri maintainers intend to provide timely security updates, but if
        this is a concern for you and want to use your OS/distro system library
        instead, then abort this installation process and install nokogiri as
        instructed at:

          https://nokogiri.org/tutorials/installing_nokogiri.html#installing-using-standard-system-libraries

</span><span class="ruby-identifier">      EOM</span>

      <span class="ruby-identifier">message</span>(<span class="ruby-identifier">&lt;&lt;~EOM</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;libxml2&quot;</span>
<span class="ruby-value">        Note, however, that nokogiri cannot guarantee compatibility with every
        version of libxml2 that may be provided by OS/package vendors.

</span><span class="ruby-identifier">      EOM</span>

      <span class="ruby-identifier">chdir_for_build</span> { <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">cook</span> }
      <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">touch</span>(<span class="ruby-identifier">checkpoint</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">recipe</span>.<span class="ruby-identifier">activate</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-raise_not_found_library" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-raise_not_found_library" title="Link to this method">
                <span class="method-name">raise_not_found_library</span>
                <span class="method-args">(library, version)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="raise_not_found_library-source">
            <pre><span class="ruby-comment"># File ext/duckdb/extconf.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">raise_not_found_library</span>(<span class="ruby-identifier">library</span>, <span class="ruby-identifier">version</span>)
  <span class="ruby-identifier">library_name</span> = <span class="ruby-identifier">duckdb_library_name</span>(<span class="ruby-identifier">library</span>)
  <span class="ruby-identifier">msg</span> = <span class="ruby-node">&quot;#{library_name} is not found. Install #{library_name} of duckdb &gt;= #{version}.&quot;</span>
  <span class="ruby-identifier">print_message</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-report_conflict" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-report_conflict" title="Link to this method">
                <span class="method-name">report_conflict</span>
                <span class="method-args">(states)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="report_conflict-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/racc-1.8.1/bin/racc, line 223</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">report_conflict</span>(<span class="ruby-identifier">states</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">states</span>.<span class="ruby-identifier">should_report_srconflict?</span>
    <span class="ruby-identifier">reported</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{states.n_srconflicts} shift/reduce conflicts&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">states</span>.<span class="ruby-identifier">rrconflict_exist?</span>
    <span class="ruby-identifier">reported</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{states.n_rrconflicts} reduce/reduce conflicts&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">reported</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@return [Boolean] if anything was reported</p>
        </div>


      </div>

      <div id="method-i-report_list" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-report_list" title="Link to this method">
                <span class="method-name">report_list</span>
                <span class="method-args">(enum, label)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="report_list-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/racc-1.8.1/bin/racc, line 211</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">report_list</span>(<span class="ruby-identifier">enum</span>, <span class="ruby-identifier">label</span>)
  <span class="ruby-identifier">c</span> = <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{c} #{label}:&quot;</span>
    <span class="ruby-identifier">enum</span>.<span class="ruby-identifier">first</span>(<span class="ruby-constant">LIST_LIMIT</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;  #{yield item}&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;  ...&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">LIST_LIMIT</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-report_useless" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-report_useless" title="Link to this method">
                <span class="method-name">report_useless</span>
                <span class="method-args">(grammar)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="report_useless-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/racc-1.8.1/bin/racc, line 248</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">report_useless</span>(<span class="ruby-identifier">grammar</span>)
  <span class="ruby-identifier">reported</span> = <span class="ruby-identifier">report_list</span>(<span class="ruby-identifier">grammar</span>.<span class="ruby-identifier">each_useless_nonterminal</span>, <span class="ruby-string">&#39;useless nonterminals&#39;</span>, <span class="ruby-operator">&amp;</span><span class="ruby-value">:to_s</span>)

  <span class="ruby-identifier">reported</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">report_list</span>(<span class="ruby-identifier">grammar</span>.<span class="ruby-identifier">each_useless_rule</span>, <span class="ruby-string">&#39;useless rules&#39;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;##{r.ident} (#{r.target})&quot;</span> }

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">grammar</span>.<span class="ruby-identifier">start</span>.<span class="ruby-identifier">useless?</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&#39;fatal: start symbol does not derive any sentence&#39;</span>
    <span class="ruby-identifier">reported</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">reported</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>@return [Boolean] if anything was reported</p>
        </div>


      </div>

      <div id="method-i-safe_read" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-safe_read" title="Link to this method">
                <span class="method-name">safe_read</span>
                <span class="method-args">(uri_or_path)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="safe_read-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/bin/nokogiri, line 43</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">safe_read</span>(<span class="ruby-identifier">uri_or_path</span>)
  <span class="ruby-identifier">uri</span> = <span class="ruby-constant">URI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">uri_or_path</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">uri</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">HTTP</span>
    <span class="ruby-identifier">uri</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">URI</span><span class="ruby-operator">::</span><span class="ruby-constant">File</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">uri</span>.<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">uri_or_path</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-sh_export_path" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-sh_export_path" title="Link to this method">
                <span class="method-name">sh_export_path</span>
                <span class="method-args">(path)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="sh_export_path-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 340</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sh_export_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-comment"># because libxslt 1.1.29 configure.in uses AC_PATH_TOOL which treats &quot;:&quot;</span>
  <span class="ruby-comment"># as a $PATH separator, we need to convert windows paths from</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment">#   C:/path/to/foo</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># to</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment">#   /C/path/to/foo</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># which is sh-compatible, in order to find things properly during</span>
  <span class="ruby-comment"># configuration</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">path</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">windows?</span>

  <span class="ruby-identifier">match</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;^([A-Z]):(/.*)&quot;</span>).<span class="ruby-identifier">match</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">match</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">match</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span>
    <span class="ruby-keyword">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;/&quot;</span>, <span class="ruby-identifier">match</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">match</span>[<span class="ruby-value">2</span>])
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-solaris-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-solaris-3F" title="Link to this method">
                <span class="method-name">solaris?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="solaris-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">solaris?</span>
  <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;target_os&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;solaris&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-stub" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-stub" title="Link to this method">
                <span class="method-name">stub</span>
                <span class="method-args">(name, val_or_callable, *block_args, **block_kwargs, &amp;block)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="stub-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/minitest-5.25.2/lib/minitest/mock.rb, line 283</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">stub</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">val_or_callable</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">block_args</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">block_kwargs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
  <span class="ruby-identifier">new_name</span> = <span class="ruby-node">&quot;__minitest_stub__#{name}&quot;</span>

  <span class="ruby-identifier">metaclass</span> = <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>; <span class="ruby-keyword">self</span>; <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword">and</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:to_s</span>).<span class="ruby-identifier">include?</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">metaclass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:define_method</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">kwargs</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">super</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">kwargs</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">metaclass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:alias_method</span>, <span class="ruby-identifier">new_name</span>, <span class="ruby-identifier">name</span>

  <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;MT_KWARGS_HAC\K&quot;</span>] <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">metaclass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:define_method</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">val_or_callable</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:call</span> <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">val_or_callable</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">block_args</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">block_kwargs</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">blk</span>
        <span class="ruby-identifier">val_or_callable</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">metaclass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:define_method</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">kwargs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">val_or_callable</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:call</span> <span class="ruby-keyword">then</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">kwargs</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span> <span class="ruby-comment"># FIX: drop this after 2.7 dead</span>
          <span class="ruby-identifier">val_or_callable</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">val_or_callable</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">kwargs</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">blk</span>)
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">blk</span> <span class="ruby-keyword">then</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_kwargs</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span> <span class="ruby-comment"># FIX: drop this after 2.7 dead</span>
            <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">block_args</span>)
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">blk</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">block_args</span>, <span class="ruby-operator">**</span><span class="ruby-identifier">block_kwargs</span>)
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">val_or_callable</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">block</span>[<span class="ruby-keyword">self</span>]
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">metaclass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:undef_method</span>, <span class="ruby-identifier">name</span>
  <span class="ruby-identifier">metaclass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:alias_method</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">new_name</span>
  <span class="ruby-identifier">metaclass</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:undef_method</span>, <span class="ruby-identifier">new_name</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>Add a temporary stubbed method replacing <code>name</code> for the duration of the <code>block</code>. If <code>val_or_callable</code> responds to call, then it returns the result of calling it, otherwise returns the value as-is. If stubbed method yields a block, <code>block_args</code> will be passed along. Cleans up the stub at the end of the <code>block</code>. The method <code>name</code> must exist before stubbing.</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">test_stale_eh</span>
  <span class="ruby-identifier">obj_under_test</span> = <span class="ruby-constant">Something</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">refute</span> <span class="ruby-identifier">obj_under_test</span>.<span class="ruby-identifier">stale?</span>

  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">stub</span> <span class="ruby-value">:now</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">obj_under_test</span>.<span class="ruby-identifier">stale?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
            <div class="method-calls-super">
              Calls superclass method
              
            </div>
        </div>


      </div>

      <div id="method-i-sub" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-sub" title="Link to this method">
                <span class="method-name">sub</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="sub-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/benchmark-ips-2.14.0/examples/quick.rb, line 9</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">sub</span>
  <span class="ruby-value">2</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-truffle-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-truffle-3F" title="Link to this method">
                <span class="method-name">truffle?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="truffle-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">truffle?</span>
  <span class="ruby-constant">RUBY_ENGINE</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;truffleruby&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-try_link_iconv" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-try_link_iconv" title="Link to this method">
                <span class="method-name">try_link_iconv</span>
                <span class="method-args">(using = nil) { || ... }</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="try_link_iconv-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 387</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">try_link_iconv</span>(<span class="ruby-identifier">using</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">checking_for</span>(<span class="ruby-identifier">using</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;iconv using #{using}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;iconv&quot;</span>) <span class="ruby-keyword">do</span>
    [<span class="ruby-string">&quot;&quot;</span>, <span class="ruby-string">&quot;-liconv&quot;</span>].<span class="ruby-identifier">any?</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">opt</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">preserving_globals</span> <span class="ruby-keyword">do</span>
        <span class="ruby-keyword">yield</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>

        <span class="ruby-identifier">try_link</span>(<span class="ruby-identifier">&lt;&lt;~SRC</span>, <span class="ruby-identifier">opt</span>)
<span class="ruby-value">          #include &lt;stdlib.h&gt;
          #include &lt;iconv.h&gt;
          int main(void)
          {
              iconv_t cd = iconv_open(&quot;&quot;, &quot;&quot;);
              iconv(cd, NULL, NULL, NULL, NULL);
              return EXIT_SUCCESS;
          }
</span><span class="ruby-identifier">        SRC</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-try_package_configuration" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-try_package_configuration" title="Link to this method">
                <span class="method-name">try_package_configuration</span>
                <span class="method-args">(pc)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="try_package_configuration-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 260</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">try_package_configuration</span>(<span class="ruby-identifier">pc</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-string">&quot;NOKOGIRI_TEST_PKG_CONFIG_GEM&quot;</span>)
    <span class="ruby-comment"># try MakeMakefile#pkg_config, which uses the system utility `pkg-config`.</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">checking_for</span>(<span class="ruby-node">&quot;#{pc} using `pkg_config`&quot;</span>, <span class="ruby-constant">LOCAL_PACKAGE_RESPONSE</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">pkg_config</span>(<span class="ruby-identifier">pc</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># `pkg-config` probably isn&#39;t installed, which appears to be the case for lots of freebsd systems.</span>
  <span class="ruby-comment"># let&#39;s fall back to the pkg-config gem, which knows how to parse .pc files, and wrap it with the</span>
  <span class="ruby-comment"># same logic as MakeMakefile#pkg_config</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rubygems&quot;</span>
    <span class="ruby-identifier">gem</span>(<span class="ruby-string">&quot;pkg-config&quot;</span>, <span class="ruby-constant">REQUIRED_PKG_CONFIG_VERSION</span>)
    <span class="ruby-identifier">require</span> <span class="ruby-string">&quot;pkg-config&quot;</span>

    <span class="ruby-identifier">checking_for</span>(<span class="ruby-node">&quot;#{pc} using pkg-config gem version #{PKGConfig::VERSION}&quot;</span>, <span class="ruby-constant">LOCAL_PACKAGE_RESPONSE</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">if</span> <span class="ruby-constant">PKGConfig</span>.<span class="ruby-identifier">have_package</span>(<span class="ruby-identifier">pc</span>)
        <span class="ruby-identifier">cflags</span>  = <span class="ruby-constant">PKGConfig</span>.<span class="ruby-identifier">cflags</span>(<span class="ruby-identifier">pc</span>)
        <span class="ruby-identifier">ldflags</span> = <span class="ruby-constant">PKGConfig</span>.<span class="ruby-identifier">libs_only_L</span>(<span class="ruby-identifier">pc</span>)
        <span class="ruby-identifier">libs</span>    = <span class="ruby-constant">PKGConfig</span>.<span class="ruby-identifier">libs_only_l</span>(<span class="ruby-identifier">pc</span>)

        <span class="ruby-constant">Logging</span>.<span class="ruby-identifier">message</span>(<span class="ruby-string">&quot;pkg-config gem found package configuration for %s\n&quot;</span>, <span class="ruby-identifier">pc</span>)
        <span class="ruby-constant">Logging</span>.<span class="ruby-identifier">message</span>(<span class="ruby-string">&quot;cflags: %s\nldflags: %s\nlibs: %s\n\n&quot;</span>, <span class="ruby-identifier">cflags</span>, <span class="ruby-identifier">ldflags</span>, <span class="ruby-identifier">libs</span>)

        [<span class="ruby-identifier">cflags</span>, <span class="ruby-identifier">ldflags</span>, <span class="ruby-identifier">libs</span>]
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span>
    <span class="ruby-identifier">message</span>(<span class="ruby-string">&quot;Please install either the `pkg-config` utility or the `pkg-config` rubygem.\n&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          <p>wrapper around MakeMakefil#pkg_config and the PKGConfig gem</p>
        </div>


      </div>

      <div id="method-i-unix-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-unix-3F" title="Link to this method">
                <span class="method-name">unix?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="unix-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">unix?</span>
  <span class="ruby-operator">!</span>(<span class="ruby-identifier">windows?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">solaris?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">darwin?</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-unpacked_gem_dir_platform" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-unpacked_gem_dir_platform" title="Link to this method">
                <span class="method-name">unpacked_gem_dir_platform</span>
                <span class="method-args">(folder, name, version, platform = nil)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="unpacked_gem_dir_platform-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/rake-compiler-1.2.8/features/step_definitions/gem.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">unpacked_gem_dir_platform</span>(<span class="ruby-identifier">folder</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span>, <span class="ruby-identifier">platform</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">file</span> = <span class="ruby-node">&quot;#{folder}/#{name}-#{version}&quot;</span>
  <span class="ruby-identifier">file</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;-&quot;</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">platform</span> <span class="ruby-operator">||</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Platform</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">RUBY_PLATFORM</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">file</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-windows-3F" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-windows-3F" title="Link to this method">
                <span class="method-name">windows?</span>
                <span class="method-args">()</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="windows-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 192</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">windows?</span>
  <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;target_os&quot;</span>].<span class="ruby-identifier">match?</span>(<span class="ruby-regexp">/mingw|mswin/</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

      <div id="method-i-zlib_source" class="method-detail anchor-link ">
        <div class="method-header">
            <div class="method-heading">
              <a href="#method-i-zlib_source" title="Link to this method">
                <span class="method-name">zlib_source</span>
                <span class="method-args">(version_string)</span>
              </a>
            </div>
        </div>

          <div class="method-controls">
            <details class="method-source-toggle">
              <summary>Source</summary>
            </details>
          </div>

        <div class="method-description">
          <div class="method-source-code" id="zlib_source-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/3.4.0/gems/nokogiri-1.18.0-x86_64-linux-gnu/ext/nokogiri/extconf.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">zlib_source</span>(<span class="ruby-identifier">version_string</span>)
  <span class="ruby-comment"># As of 2022-12, I&#39;m starting to see failed downloads often enough from zlib.net that I want to</span>
  <span class="ruby-comment"># change the default to github.</span>
  <span class="ruby-keyword">if</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&quot;NOKOGIRI_USE_CANONICAL_ZLIB_SOURCE&quot;</span>]
    <span class="ruby-node">&quot;https://zlib.net/fossils/zlib-#{version_string}.tar.gz&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-node">&quot;https://github.com/madler/zlib/releases/download/v#{version_string}/zlib-#{version_string}.tar.gz&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>


      </div>

    </section>

  </section>
</main>

